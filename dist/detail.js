!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("tty"),require("util"),require("fs"),require("net"),require("http"),require("https"),require("url"),require("assert"),require("stream"),require("os"),require("zlib"),require("zepto-webpack")):"function"==typeof define&&define.amd?define(["tty","util","fs","net","http","https","url","assert","stream","os","zlib","zepto-webpack"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).tty,t.util,t.fs,t.net,t.http,t.https,t.url,t.assert,t.stream,t.os,t.zlib,t.$$1)}(this,(function(t,e,o,n,i,r,a,s,l,c,u,d){"use strict";function h(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var p=h(t),f=h(e),m=h(o),g=h(n),y=h(i),v=h(r),w=h(a),b=h(s),_=h(l),j=h(c),k=h(u),P=h(d),C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function S(t,e){return t(e={exports:{}},e.exports),e.exports}var x=1e3,A=60*x,E=60*A,T=24*E,O=365.25*T,L=function(t,e){e=e||{};var o=typeof t;if("string"===o&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var o=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return o*O;case"days":case"day":case"d":return o*T;case"hours":case"hour":case"hrs":case"hr":case"h":return o*E;case"minutes":case"minute":case"mins":case"min":case"m":return o*A;case"seconds":case"second":case"secs":case"sec":case"s":return o*x;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(t);if("number"===o&&!1===isNaN(t))return e.long?function(t){return B(t,T,"day")||B(t,E,"hour")||B(t,A,"minute")||B(t,x,"second")||t+" ms"}(t):function(t){if(t>=T)return Math.round(t/T)+"d";if(t>=E)return Math.round(t/E)+"h";if(t>=A)return Math.round(t/A)+"m";if(t>=x)return Math.round(t/x)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function B(t,e,o){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+o:Math.ceil(t/e)+" "+o+"s"}var R=S((function(t,e){var o;function n(t){function n(){if(n.enabled){var t=n,i=+new Date,r=i-(o||i);t.diff=r,t.prev=o,t.curr=i,o=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(o,n){if("%%"===o)return o;l++;var i=e.formatters[n];if("function"==typeof i){var r=a[l];o=i.call(t,r),a.splice(l,1),l--}return o})),e.formatArgs.call(t,a);var c=n.log||e.log||console.log.bind(console);c.apply(t,a)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var o,n=0;for(o in t)n=(n<<5)-n+t.charCodeAt(o),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),"function"==typeof e.init&&e.init(n),n}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var o=("string"==typeof t?t:"").split(/[\s,]+/),n=o.length,i=0;i<n;i++)o[i]&&("-"===(t=o[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var o,n;for(o=0,n=e.skips.length;o<n;o++)if(e.skips[o].test(t))return!1;for(o=0,n=e.names.length;o<n;o++)if(e.names[o].test(t))return!0;return!1},e.humanize=L,e.names=[],e.skips=[],e.formatters={}}));R.coerce,R.disable,R.enable,R.enabled,R.humanize,R.names,R.skips,R.formatters;var F=S((function(t,e){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=R).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var o=this.useColors;if(t[0]=(o?"%c":"")+this.namespace+(o?" %c":" ")+t[0]+(o?"%c ":" ")+"+"+e.humanize(this.diff),!o)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(r=i))})),t.splice(r,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}));F.log,F.formatArgs,F.save,F.load,F.useColors,F.storage,F.colors;var q=S((function(t,e){(e=t.exports=R).init=function(t){t.inspectOpts={};for(var o=Object.keys(e.inspectOpts),n=0;n<o.length;n++)t.inspectOpts[o[n]]=e.inspectOpts[o[n]]},e.log=function(){return n.write(f.default.format.apply(f.default,arguments)+"\n")},e.formatArgs=function(t){var o=this.namespace;if(this.useColors){var n=this.color,i="  [3"+n+";1m"+o+" [0m";t[0]=i+t[0].split("\n").join("\n"+i),t.push("[3"+n+"m+"+e.humanize(this.diff)+"[0m")}else t[0]=(new Date).toUTCString()+" "+o+" "+t[0]},e.save=function(t){null==t?delete process.env.DEBUG:process.env.DEBUG=t},e.load=i,e.useColors=function(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):p.default.isatty(o)},e.colors=[6,2,3,4,5,1],e.inspectOpts=Object.keys(process.env).filter((function(t){return/^debug_/i.test(t)})).reduce((function(t,e){var o=e.substring(6).toLowerCase().replace(/_([a-z])/g,(function(t,e){return e.toUpperCase()})),n=process.env[e];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),t[o]=n,t}),{});var o=parseInt(process.env.DEBUG_FD,10)||2;1!==o&&2!==o&&f.default.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var n=1===o?process.stdout:2===o?process.stderr:function(t){var e;switch(process.binding("tty_wrap").guessHandleType(t)){case"TTY":(e=new p.default.WriteStream(t))._type="tty",e._handle&&e._handle.unref&&e._handle.unref();break;case"FILE":var o=m.default;(e=new o.SyncWriteStream(t,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":var n=g.default;(e=new n.Socket({fd:t,readable:!1,writable:!0})).readable=!1,e.read=null,e._type="pipe",e._handle&&e._handle.unref&&e._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return e.fd=t,e._isStdio=!0,e}(o);function i(){return process.env.DEBUG}e.formatters.o=function(t){return this.inspectOpts.colors=this.useColors,f.default.inspect(t,this.inspectOpts).split("\n").map((function(t){return t.trim()})).join(" ")},e.formatters.O=function(t){return this.inspectOpts.colors=this.useColors,f.default.inspect(t,this.inspectOpts)},e.enable(i())}));q.init,q.log,q.formatArgs,q.save,q.load,q.useColors,q.colors,q.inspectOpts;var M=S((function(t){"undefined"!=typeof process&&"renderer"===process.type?t.exports=F:t.exports=q}))("jsonp"),I=function(t,e,o){"function"==typeof e&&(o=e,e={});e||(e={});var n,i,r=e.prefix||"__jp",a=e.name||r+N++,s=e.param||"callback",l=null!=e.timeout?e.timeout:6e4,c=encodeURIComponent,u=document.getElementsByTagName("script")[0]||document.head;l&&(i=setTimeout((function(){d(),o&&o(new Error("Timeout"))}),l));function d(){n.parentNode&&n.parentNode.removeChild(n),window[a]=D,i&&clearTimeout(i)}return window[a]=function(t){M("jsonp got",t),d(),o&&o(null,t)},t=(t+=(~t.indexOf("?")?"&":"?")+s+"="+c(a)).replace("?&","?"),M('jsonp req "%s"',t),(n=document.createElement("script")).src=t,u.parentNode.insertBefore(n,u),function(){window[a]&&d()}},N=0;function D(){}var U,H="undefined"!=typeof Symbol&&Symbol,W="Function.prototype.bind called on incompatible ",V=Array.prototype.slice,z=Object.prototype.toString,J="[object Function]",G=Function.prototype.bind||function(t){var e=this;if("function"!=typeof e||z.call(e)!==J)throw new TypeError(W+e);for(var o,n=V.call(arguments,1),i=function(){if(this instanceof o){var i=e.apply(this,n.concat(V.call(arguments)));return Object(i)===i?i:this}return e.apply(t,n.concat(V.call(arguments)))},r=Math.max(0,e.length-n.length),a=[],s=0;s<r;s++)a.push("$"+s);if(o=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var l=function(){};l.prototype=e.prototype,o.prototype=new l,l.prototype=null}return o},Q=G.call(Function.call,Object.prototype.hasOwnProperty),K=SyntaxError,Y=Function,X=TypeError,Z=function(t){try{return Y('"use strict"; return ('+t+").constructor;")()}catch(t){}},tt=Object.getOwnPropertyDescriptor;if(tt)try{tt({},"")}catch(t){tt=null}var et=function(){throw new X},ot=tt?function(){try{return et}catch(t){try{return tt(arguments,"callee").get}catch(t){return et}}}():et,nt="function"==typeof H&&"function"==typeof Symbol&&"symbol"==typeof H("foo")&&"symbol"==typeof Symbol("bar")&&function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),o=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(o))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}(),it=Object.getPrototypeOf||function(t){return t.__proto__},rt={},at="undefined"==typeof Uint8Array?U:it(Uint8Array),st={"%AggregateError%":"undefined"==typeof AggregateError?U:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?U:ArrayBuffer,"%ArrayIteratorPrototype%":nt?it([][Symbol.iterator]()):U,"%AsyncFromSyncIteratorPrototype%":U,"%AsyncFunction%":rt,"%AsyncGenerator%":rt,"%AsyncGeneratorFunction%":rt,"%AsyncIteratorPrototype%":rt,"%Atomics%":"undefined"==typeof Atomics?U:Atomics,"%BigInt%":"undefined"==typeof BigInt?U:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?U:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?U:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?U:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?U:FinalizationRegistry,"%Function%":Y,"%GeneratorFunction%":rt,"%Int8Array%":"undefined"==typeof Int8Array?U:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?U:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?U:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":nt?it(it([][Symbol.iterator]())):U,"%JSON%":"object"==typeof JSON?JSON:U,"%Map%":"undefined"==typeof Map?U:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&nt?it((new Map)[Symbol.iterator]()):U,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?U:Promise,"%Proxy%":"undefined"==typeof Proxy?U:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?U:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?U:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&nt?it((new Set)[Symbol.iterator]()):U,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?U:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":nt?it(""[Symbol.iterator]()):U,"%Symbol%":nt?Symbol:U,"%SyntaxError%":K,"%ThrowTypeError%":ot,"%TypedArray%":at,"%TypeError%":X,"%Uint8Array%":"undefined"==typeof Uint8Array?U:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?U:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?U:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?U:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?U:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?U:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?U:WeakSet},lt=function t(e){var o;if("%AsyncFunction%"===e)o=Z("async function () {}");else if("%GeneratorFunction%"===e)o=Z("function* () {}");else if("%AsyncGeneratorFunction%"===e)o=Z("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(o=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(o=it(i.prototype))}return st[e]=o,o},ct={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ut=G.call(Function.call,Array.prototype.concat),dt=G.call(Function.apply,Array.prototype.splice),ht=G.call(Function.call,String.prototype.replace),pt=G.call(Function.call,String.prototype.slice),ft=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,mt=/\\(\\)?/g,gt=function(t){var e=pt(t,0,1),o=pt(t,-1);if("%"===e&&"%"!==o)throw new K("invalid intrinsic syntax, expected closing `%`");if("%"===o&&"%"!==e)throw new K("invalid intrinsic syntax, expected opening `%`");var n=[];return ht(t,ft,(function(t,e,o,i){n[n.length]=o?ht(i,mt,"$1"):e||t})),n},yt=function(t,e){var o,n=t;if(Q(ct,n)&&(n="%"+(o=ct[n])[0]+"%"),Q(st,n)){var i=st[n];if(i===rt&&(i=lt(n)),void 0===i&&!e)throw new X("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new K("intrinsic "+t+" does not exist!")},vt=function(t,e){if("string"!=typeof t||0===t.length)throw new X("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new X('"allowMissing" argument must be a boolean');var o=gt(t),n=o.length>0?o[0]:"",i=yt("%"+n+"%",e),r=i.name,a=i.value,s=!1,l=i.alias;l&&(n=l[0],dt(o,ut([0,1],l)));for(var c=1,u=!0;c<o.length;c+=1){var d=o[c],h=pt(d,0,1),p=pt(d,-1);if(('"'===h||"'"===h||"`"===h||'"'===p||"'"===p||"`"===p)&&h!==p)throw new K("property names with quotes must have matching quotes");if("constructor"!==d&&u||(s=!0),Q(st,r="%"+(n+="."+d)+"%"))a=st[r];else if(null!=a){if(!(d in a)){if(!e)throw new X("base intrinsic for "+t+" exists, but the property is not available.");return}if(tt&&c+1>=o.length){var f=tt(a,d);a=(u=!!f)&&"get"in f&&!("originalValue"in f.get)?f.get:a[d]}else u=Q(a,d),a=a[d];u&&!s&&(st[r]=a)}}return a},wt=S((function(t){var e=vt("%Function.prototype.apply%"),o=vt("%Function.prototype.call%"),n=vt("%Reflect.apply%",!0)||G.call(o,e),i=vt("%Object.getOwnPropertyDescriptor%",!0),r=vt("%Object.defineProperty%",!0),a=vt("%Math.max%");if(r)try{r({},"a",{value:1})}catch(t){r=null}t.exports=function(t){var e=n(G,o,arguments);if(i&&r){var s=i(e,"length");s.configurable&&r(e,"length",{value:1+a(0,t.length-(arguments.length-1))})}return e};var s=function(){return n(G,e,arguments)};r?r(t.exports,"apply",{value:s}):t.exports.apply=s}));wt.apply;var bt=wt(vt("String.prototype.indexOf")),_t=function(t,e){var o=vt(t,!!e);return"function"==typeof o&&bt(t,".prototype.")>-1?wt(o):o},jt=f.default.inspect,kt="function"==typeof Map&&Map.prototype,Pt=Object.getOwnPropertyDescriptor&&kt?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ct=kt&&Pt&&"function"==typeof Pt.get?Pt.get:null,St=kt&&Map.prototype.forEach,xt="function"==typeof Set&&Set.prototype,At=Object.getOwnPropertyDescriptor&&xt?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Et=xt&&At&&"function"==typeof At.get?At.get:null,Tt=xt&&Set.prototype.forEach,Ot="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,Lt="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,Bt="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Rt=Boolean.prototype.valueOf,$t=Object.prototype.toString,Ft=Function.prototype.toString,qt=String.prototype.match,Mt=String.prototype.slice,It=String.prototype.replace,Nt=String.prototype.toUpperCase,Dt=String.prototype.toLowerCase,Ut=RegExp.prototype.test,Ht=Array.prototype.concat,Wt=Array.prototype.join,Vt=Array.prototype.slice,zt=Math.floor,Jt="function"==typeof BigInt?BigInt.prototype.valueOf:null,Gt=Object.getOwnPropertySymbols,Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Kt="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Yt="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Kt||"symbol")?Symbol.toStringTag:null,Xt=Object.prototype.propertyIsEnumerable,Zt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function te(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||Ut.call(/e/,e))return e;var o=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-zt(-t):zt(t);if(n!==t){var i=String(n),r=Mt.call(e,i.length+1);return It.call(i,o,"$&_")+"."+It.call(It.call(r,/([0-9]{3})/g,"$&_"),/_$/,"")}}return It.call(e,o,"$&_")}var ee=jt.custom,oe=ee&&ae(ee)?ee:null;function ne(t,e,o){var n="double"===(o.quoteStyle||e)?'"':"'";return n+t+n}function ie(t){return It.call(String(t),/"/g,"&quot;")}function re(t){return!("[object Array]"!==ce(t)||Yt&&"object"==typeof t&&Yt in t)}function ae(t){if(Kt)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!Qt)return!1;try{return Qt.call(t),!0}catch(t){}return!1}var se=Object.prototype.hasOwnProperty||function(t){return t in this};function le(t,e){return se.call(t,e)}function ce(t){return $t.call(t)}function ue(t,e){if(t.indexOf)return t.indexOf(e);for(var o=0,n=t.length;o<n;o++)if(t[o]===e)return o;return-1}function de(t,e){if(t.length>e.maxStringLength){var o=t.length-e.maxStringLength,n="... "+o+" more character"+(o>1?"s":"");return de(Mt.call(t,0,e.maxStringLength),e)+n}return ne(It.call(It.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,he),"single",e)}function he(t){var e=t.charCodeAt(0),o={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return o?"\\"+o:"\\x"+(e<16?"0":"")+Nt.call(e.toString(16))}function pe(t){return"Object("+t+")"}function fe(t){return t+" { ? }"}function me(t,e,o,n){return t+" ("+e+") {"+(n?ge(o,n):Wt.call(o,", "))+"}"}function ge(t,e){if(0===t.length)return"";var o="\n"+e.prev+e.base;return o+Wt.call(t,","+o)+"\n"+e.prev}function ye(t,e){var o=re(t),n=[];if(o){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=le(t,i)?e(t[i],t):""}var r,a="function"==typeof Gt?Gt(t):[];if(Kt){r={};for(var s=0;s<a.length;s++)r["$"+a[s]]=a[s]}for(var l in t)le(t,l)&&(o&&String(Number(l))===l&&l<t.length||Kt&&r["$"+l]instanceof Symbol||(Ut.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if("function"==typeof Gt)for(var c=0;c<a.length;c++)Xt.call(t,a[c])&&n.push("["+e(a[c])+"]: "+e(t[a[c]],t));return n}var ve=function t(e,o,n,i){var r=o||{};if(le(r,"quoteStyle")&&"single"!==r.quoteStyle&&"double"!==r.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(le(r,"maxStringLength")&&("number"==typeof r.maxStringLength?r.maxStringLength<0&&r.maxStringLength!==1/0:null!==r.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!le(r,"customInspect")||r.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(le(r,"indent")&&null!==r.indent&&"\t"!==r.indent&&!(parseInt(r.indent,10)===r.indent&&r.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(le(r,"numericSeparator")&&"boolean"!=typeof r.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=r.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return de(e,r);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var l=String(e);return s?te(e,l):l}if("bigint"==typeof e){var c=String(e)+"n";return s?te(e,c):c}var u=void 0===r.depth?5:r.depth;if(void 0===n&&(n=0),n>=u&&u>0&&"object"==typeof e)return re(e)?"[Array]":"[Object]";var d=function(t,e){var o;if("\t"===t.indent)o="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;o=Wt.call(Array(t.indent+1)," ")}return{base:o,prev:Wt.call(Array(e+1),o)}}(r,n);if(void 0===i)i=[];else if(ue(i,e)>=0)return"[Circular]";function h(e,o,a){if(o&&(i=Vt.call(i)).push(o),a){var s={depth:r.depth};return le(r,"quoteStyle")&&(s.quoteStyle=r.quoteStyle),t(e,s,n+1,i)}return t(e,r,n+1,i)}if("function"==typeof e){var p=function(t){if(t.name)return t.name;var e=qt.call(Ft.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),f=ye(e,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(f.length>0?" { "+Wt.call(f,", ")+" }":"")}if(ae(e)){var m=Kt?It.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Qt.call(e);return"object"!=typeof e||Kt?m:pe(m)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var g="<"+Dt.call(String(e.nodeName)),y=e.attributes||[],v=0;v<y.length;v++)g+=" "+y[v].name+"="+ne(ie(y[v].value),"double",r);return g+=">",e.childNodes&&e.childNodes.length&&(g+="..."),g+="</"+Dt.call(String(e.nodeName))+">"}if(re(e)){if(0===e.length)return"[]";var w=ye(e,h);return d&&!function(t){for(var e=0;e<t.length;e++)if(ue(t[e],"\n")>=0)return!1;return!0}(w)?"["+ge(w,d)+"]":"[ "+Wt.call(w,", ")+" ]"}if(function(t){return!("[object Error]"!==ce(t)||Yt&&"object"==typeof t&&Yt in t)}(e)){var b=ye(e,h);return"cause"in e&&!Xt.call(e,"cause")?"{ ["+String(e)+"] "+Wt.call(Ht.call("[cause]: "+h(e.cause),b),", ")+" }":0===b.length?"["+String(e)+"]":"{ ["+String(e)+"] "+Wt.call(b,", ")+" }"}if("object"==typeof e&&a){if(oe&&"function"==typeof e[oe])return e[oe]();if("symbol"!==a&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!Ct||!t||"object"!=typeof t)return!1;try{Ct.call(t);try{Et.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var _=[];return St.call(e,(function(t,o){_.push(h(o,e,!0)+" => "+h(t,e))})),me("Map",Ct.call(e),_,d)}if(function(t){if(!Et||!t||"object"!=typeof t)return!1;try{Et.call(t);try{Ct.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var j=[];return Tt.call(e,(function(t){j.push(h(t,e))})),me("Set",Et.call(e),j,d)}if(function(t){if(!Ot||!t||"object"!=typeof t)return!1;try{Ot.call(t,Ot);try{Lt.call(t,Lt)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return fe("WeakMap");if(function(t){if(!Lt||!t||"object"!=typeof t)return!1;try{Lt.call(t,Lt);try{Ot.call(t,Ot)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return fe("WeakSet");if(function(t){if(!Bt||!t||"object"!=typeof t)return!1;try{return Bt.call(t),!0}catch(t){}return!1}(e))return fe("WeakRef");if(function(t){return!("[object Number]"!==ce(t)||Yt&&"object"==typeof t&&Yt in t)}(e))return pe(h(Number(e)));if(function(t){if(!t||"object"!=typeof t||!Jt)return!1;try{return Jt.call(t),!0}catch(t){}return!1}(e))return pe(h(Jt.call(e)));if(function(t){return!("[object Boolean]"!==ce(t)||Yt&&"object"==typeof t&&Yt in t)}(e))return pe(Rt.call(e));if(function(t){return!("[object String]"!==ce(t)||Yt&&"object"==typeof t&&Yt in t)}(e))return pe(h(String(e)));if(!function(t){return!("[object Date]"!==ce(t)||Yt&&"object"==typeof t&&Yt in t)}(e)&&!function(t){return!("[object RegExp]"!==ce(t)||Yt&&"object"==typeof t&&Yt in t)}(e)){var k=ye(e,h),P=Zt?Zt(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",S=!P&&Yt&&Object(e)===e&&Yt in e?Mt.call(ce(e),8,-1):C?"Object":"",x=(P||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(S||C?"["+Wt.call(Ht.call([],S||[],C||[]),": ")+"] ":"");return 0===k.length?x+"{}":d?x+"{"+ge(k,d)+"}":x+"{ "+Wt.call(k,", ")+" }"}return String(e)},we=vt("%TypeError%"),be=vt("%WeakMap%",!0),_e=vt("%Map%",!0),je=_t("WeakMap.prototype.get",!0),ke=_t("WeakMap.prototype.set",!0),Pe=_t("WeakMap.prototype.has",!0),Ce=_t("Map.prototype.get",!0),Se=_t("Map.prototype.set",!0),xe=_t("Map.prototype.has",!0),Ae=function(t,e){for(var o,n=t;null!==(o=n.next);n=o)if(o.key===e)return n.next=o.next,o.next=t.next,t.next=o,o},Ee=function(){var t,e,o,n={assert:function(t){if(!n.has(t))throw new we("Side channel does not contain "+ve(t))},get:function(n){if(be&&n&&("object"==typeof n||"function"==typeof n)){if(t)return je(t,n)}else if(_e){if(e)return Ce(e,n)}else if(o)return function(t,e){var o=Ae(t,e);return o&&o.value}(o,n)},has:function(n){if(be&&n&&("object"==typeof n||"function"==typeof n)){if(t)return Pe(t,n)}else if(_e){if(e)return xe(e,n)}else if(o)return function(t,e){return!!Ae(t,e)}(o,n);return!1},set:function(n,i){be&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new be),ke(t,n,i)):_e?(e||(e=new _e),Se(e,n,i)):(o||(o={key:{},next:null}),function(t,e,o){var n=Ae(t,e);n?n.value=o:t.next={key:e,next:t.next,value:o}}(o,n,i))}};return n},Te=String.prototype.replace,Oe=/%20/g,Le="RFC3986",Be={default:Le,formatters:{RFC1738:function(t){return Te.call(t,Oe,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:Le},Re=Object.prototype.hasOwnProperty,$e=Array.isArray,Fe=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),qe=function(t,e){for(var o=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(o[n]=t[n]);return o},Me={arrayToObject:qe,assign:function(t,e){return Object.keys(e).reduce((function(t,o){return t[o]=e[o],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],o=[],n=0;n<e.length;++n)for(var i=e[n],r=i.obj[i.prop],a=Object.keys(r),s=0;s<a.length;++s){var l=a[s],c=r[l];"object"==typeof c&&null!==c&&-1===o.indexOf(c)&&(e.push({obj:r,prop:l}),o.push(c))}return function(t){for(;t.length>1;){var e=t.pop(),o=e.obj[e.prop];if($e(o)){for(var n=[],i=0;i<o.length;++i)void 0!==o[i]&&n.push(o[i]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,o){var n=t.replace(/\+/g," ");if("iso-8859-1"===o)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,o,n,i){if(0===t.length)return t;var r=t;if("symbol"==typeof t?r=Symbol.prototype.toString.call(t):"string"!=typeof t&&(r=String(t)),"iso-8859-1"===o)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var a="",s=0;s<r.length;++s){var l=r.charCodeAt(s);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===Be.RFC1738&&(40===l||41===l)?a+=r.charAt(s):l<128?a+=Fe[l]:l<2048?a+=Fe[192|l>>6]+Fe[128|63&l]:l<55296||l>=57344?a+=Fe[224|l>>12]+Fe[128|l>>6&63]+Fe[128|63&l]:(s+=1,l=65536+((1023&l)<<10|1023&r.charCodeAt(s)),a+=Fe[240|l>>18]+Fe[128|l>>12&63]+Fe[128|l>>6&63]+Fe[128|63&l])}return a},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if($e(t)){for(var o=[],n=0;n<t.length;n+=1)o.push(e(t[n]));return o}return e(t)},merge:function t(e,o,n){if(!o)return e;if("object"!=typeof o){if($e(e))e.push(o);else{if(!e||"object"!=typeof e)return[e,o];(n&&(n.plainObjects||n.allowPrototypes)||!Re.call(Object.prototype,o))&&(e[o]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(o);var i=e;return $e(e)&&!$e(o)&&(i=qe(e,n)),$e(e)&&$e(o)?(o.forEach((function(o,i){if(Re.call(e,i)){var r=e[i];r&&"object"==typeof r&&o&&"object"==typeof o?e[i]=t(r,o,n):e.push(o)}else e[i]=o})),e):Object.keys(o).reduce((function(e,i){var r=o[i];return Re.call(e,i)?e[i]=t(e[i],r,n):e[i]=r,e}),i)}},Ie=Object.prototype.hasOwnProperty,Ne={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},De=Array.isArray,Ue=String.prototype.split,He=Array.prototype.push,We=function(t,e){He.apply(t,De(e)?e:[e])},Ve=Date.prototype.toISOString,ze=Be.default,Je={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Me.encode,encodeValuesOnly:!1,format:ze,formatter:Be.formatters[ze],indices:!1,serializeDate:function(t){return Ve.call(t)},skipNulls:!1,strictNullHandling:!1},Ge={},Qe=function t(e,o,n,i,r,a,s,l,c,u,d,h,p,f,m){for(var g,y=e,v=m,w=0,b=!1;void 0!==(v=v.get(Ge))&&!b;){var _=v.get(e);if(w+=1,void 0!==_){if(_===w)throw new RangeError("Cyclic object value");b=!0}void 0===v.get(Ge)&&(w=0)}if("function"==typeof s?y=s(o,y):y instanceof Date?y=u(y):"comma"===n&&De(y)&&(y=Me.maybeMap(y,(function(t){return t instanceof Date?u(t):t}))),null===y){if(i)return a&&!p?a(o,Je.encoder,f,"key",d):o;y=""}if("string"==typeof(g=y)||"number"==typeof g||"boolean"==typeof g||"symbol"==typeof g||"bigint"==typeof g||Me.isBuffer(y)){if(a){var j=p?o:a(o,Je.encoder,f,"key",d);if("comma"===n&&p){for(var k=Ue.call(String(y),","),P="",C=0;C<k.length;++C)P+=(0===C?"":",")+h(a(k[C],Je.encoder,f,"value",d));return[h(j)+"="+P]}return[h(j)+"="+h(a(y,Je.encoder,f,"value",d))]}return[h(o)+"="+h(String(y))]}var S,x=[];if(void 0===y)return x;if("comma"===n&&De(y))S=[{value:y.length>0?y.join(",")||null:void 0}];else if(De(s))S=s;else{var A=Object.keys(y);S=l?A.sort(l):A}for(var E=0;E<S.length;++E){var T=S[E],O="object"==typeof T&&void 0!==T.value?T.value:y[T];if(!r||null!==O){var L=De(y)?"function"==typeof n?n(o,T):o:o+(c?"."+T:"["+T+"]");m.set(e,w);var B=Ee();B.set(Ge,m),We(x,t(O,L,n,i,r,a,s,l,c,u,d,h,p,f,B))}}return x},Ke=Object.prototype.hasOwnProperty,Ye=Array.isArray,Xe={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Me.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Ze=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},to=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},eo=function(t,e,o,n){if(t){var i=o.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,r=/(\[[^[\]]*])/g,a=o.depth>0&&/(\[[^[\]]*])/.exec(i),s=a?i.slice(0,a.index):i,l=[];if(s){if(!o.plainObjects&&Ke.call(Object.prototype,s)&&!o.allowPrototypes)return;l.push(s)}for(var c=0;o.depth>0&&null!==(a=r.exec(i))&&c<o.depth;){if(c+=1,!o.plainObjects&&Ke.call(Object.prototype,a[1].slice(1,-1))&&!o.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+i.slice(a.index)+"]"),function(t,e,o,n){for(var i=n?e:to(e,o),r=t.length-1;r>=0;--r){var a,s=t[r];if("[]"===s&&o.parseArrays)a=[].concat(i);else{a=o.plainObjects?Object.create(null):{};var l="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(l,10);o.parseArrays||""!==l?!isNaN(c)&&s!==l&&String(c)===l&&c>=0&&o.parseArrays&&c<=o.arrayLimit?(a=[])[c]=i:"__proto__"!==l&&(a[l]=i):a={0:i}}i=a}return i}(l,e,o,n)}},oo={formats:Be,parse:function(t,e){var o=function(t){if(!t)return Xe;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?Xe.charset:t.charset;return{allowDots:void 0===t.allowDots?Xe.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:Xe.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:Xe.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:Xe.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:Xe.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:Xe.comma,decoder:"function"==typeof t.decoder?t.decoder:Xe.decoder,delimiter:"string"==typeof t.delimiter||Me.isRegExp(t.delimiter)?t.delimiter:Xe.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:Xe.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:Xe.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:Xe.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:Xe.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:Xe.strictNullHandling}}(e);if(""===t||null==t)return o.plainObjects?Object.create(null):{};for(var n="string"==typeof t?function(t,e){var o,n={},i=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,r=e.parameterLimit===1/0?void 0:e.parameterLimit,a=i.split(e.delimiter,r),s=-1,l=e.charset;if(e.charsetSentinel)for(o=0;o<a.length;++o)0===a[o].indexOf("utf8=")&&("utf8=%E2%9C%93"===a[o]?l="utf-8":"utf8=%26%2310003%3B"===a[o]&&(l="iso-8859-1"),s=o,o=a.length);for(o=0;o<a.length;++o)if(o!==s){var c,u,d=a[o],h=d.indexOf("]="),p=-1===h?d.indexOf("="):h+1;-1===p?(c=e.decoder(d,Xe.decoder,l,"key"),u=e.strictNullHandling?null:""):(c=e.decoder(d.slice(0,p),Xe.decoder,l,"key"),u=Me.maybeMap(to(d.slice(p+1),e),(function(t){return e.decoder(t,Xe.decoder,l,"value")}))),u&&e.interpretNumericEntities&&"iso-8859-1"===l&&(u=Ze(u)),d.indexOf("[]=")>-1&&(u=Ye(u)?[u]:u),Ke.call(n,c)?n[c]=Me.combine(n[c],u):n[c]=u}return n}(t,o):t,i=o.plainObjects?Object.create(null):{},r=Object.keys(n),a=0;a<r.length;++a){var s=r[a],l=eo(s,n[s],o,"string"==typeof t);i=Me.merge(i,l,o)}return!0===o.allowSparse?i:Me.compact(i)},stringify:function(t,e){var o,n=t,i=function(t){if(!t)return Je;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||Je.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=Be.default;if(void 0!==t.format){if(!Ie.call(Be.formatters,t.format))throw new TypeError("Unknown format option provided.");o=t.format}var n=Be.formatters[o],i=Je.filter;return("function"==typeof t.filter||De(t.filter))&&(i=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:Je.addQueryPrefix,allowDots:void 0===t.allowDots?Je.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:Je.charsetSentinel,delimiter:void 0===t.delimiter?Je.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:Je.encode,encoder:"function"==typeof t.encoder?t.encoder:Je.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:Je.encodeValuesOnly,filter:i,format:o,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:Je.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:Je.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:Je.strictNullHandling}}(e);"function"==typeof i.filter?n=(0,i.filter)("",n):De(i.filter)&&(o=i.filter);var r,a=[];if("object"!=typeof n||null===n)return"";r=e&&e.arrayFormat in Ne?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var s=Ne[r];o||(o=Object.keys(n)),i.sort&&o.sort(i.sort);for(var l=Ee(),c=0;c<o.length;++c){var u=o[c];i.skipNulls&&null===n[u]||We(a,Qe(n[u],u,s,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,l))}var d=a.join(i.delimiter),h=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),d.length>0?h+d:""}},no=function(t,e){return function(){for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];return t.apply(e,o)}},io=Object.prototype.toString;function ro(t){return"[object Array]"===io.call(t)}function ao(t){return void 0===t}function so(t){return null!==t&&"object"==typeof t}function lo(t){return"[object Function]"===io.call(t)}function co(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),ro(t))for(var o=0,n=t.length;o<n;o++)e.call(null,t[o],o,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}var uo={isArray:ro,isArrayBuffer:function(t){return"[object ArrayBuffer]"===io.call(t)},isBuffer:function(t){return null!==t&&!ao(t)&&null!==t.constructor&&!ao(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:so,isUndefined:ao,isDate:function(t){return"[object Date]"===io.call(t)},isFile:function(t){return"[object File]"===io.call(t)},isBlob:function(t){return"[object Blob]"===io.call(t)},isFunction:lo,isStream:function(t){return so(t)&&lo(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:co,merge:function t(){var e={};function o(o,n){"object"==typeof e[n]&&"object"==typeof o?e[n]=t(e[n],o):e[n]=o}for(var n=0,i=arguments.length;n<i;n++)co(arguments[n],o);return e},deepMerge:function t(){var e={};function o(o,n){"object"==typeof e[n]&&"object"==typeof o?e[n]=t(e[n],o):e[n]="object"==typeof o?t({},o):o}for(var n=0,i=arguments.length;n<i;n++)co(arguments[n],o);return e},extend:function(t,e,o){return co(e,(function(e,n){t[n]=o&&"function"==typeof e?no(e,o):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}};function ho(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var po=function(t,e,o){if(!e)return t;var n;if(o)n=o(e);else if(uo.isURLSearchParams(e))n=e.toString();else{var i=[];uo.forEach(e,(function(t,e){null!=t&&(uo.isArray(t)?e+="[]":t=[t],uo.forEach(t,(function(t){uo.isDate(t)?t=t.toISOString():uo.isObject(t)&&(t=JSON.stringify(t)),i.push(ho(e)+"="+ho(t))})))})),n=i.join("&")}if(n){var r=t.indexOf("#");-1!==r&&(t=t.slice(0,r)),t+=(-1===t.indexOf("?")?"?":"&")+n}return t};function fo(){this.handlers=[]}fo.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},fo.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},fo.prototype.forEach=function(t){uo.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var mo=fo,go=function(t,e,o){return uo.forEach(o,(function(o){t=o(t,e)})),t},yo=function(t){return!(!t||!t.__CANCEL__)},vo=function(t,e){uo.forEach(t,(function(o,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=o,delete t[n])}))},wo=function(t,e,o,n,i){return t.config=e,o&&(t.code=o),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},bo=function(t,e,o,n,i){var r=new Error(t);return wo(r,e,o,n,i)},_o=function(t,e,o){var n=o.config.validateStatus;!n||n(o.status)?t(o):e(bo("Request failed with status code "+o.status,o.config,null,o.request,o))},jo=function(t,e){return t&&!function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e},ko=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Po=uo.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function n(t){var n=t;return e&&(o.setAttribute("href",n),n=o.href),o.setAttribute("href",n),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return t=n(window.location.href),function(e){var o=uo.isString(e)?n(e):e;return o.protocol===t.protocol&&o.host===t.host}}():function(){return!0},Co=uo.isStandardBrowserEnv()?{write:function(t,e,o,n,i,r){var a=[];a.push(t+"="+encodeURIComponent(e)),uo.isNumber(o)&&a.push("expires="+new Date(o).toGMTString()),uo.isString(n)&&a.push("path="+n),uo.isString(i)&&a.push("domain="+i),!0===r&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},So=function(t){return new Promise((function(e,o){var n=t.data,i=t.headers;uo.isFormData(n)&&delete i["Content-Type"];var r=new XMLHttpRequest;if(t.auth){var a=t.auth.username||"",s=t.auth.password||"";i.Authorization="Basic "+btoa(a+":"+s)}var l=jo(t.baseURL,t.url);if(r.open(t.method.toUpperCase(),po(l,t.params,t.paramsSerializer),!0),r.timeout=t.timeout,r.onreadystatechange=function(){if(r&&4===r.readyState&&(0!==r.status||r.responseURL&&0===r.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in r?function(t){var e,o,n,i={};return t?(uo.forEach(t.split("\n"),(function(t){if(n=t.indexOf(":"),e=uo.trim(t.substr(0,n)).toLowerCase(),o=uo.trim(t.substr(n+1)),e){if(i[e]&&ko.indexOf(e)>=0)return;i[e]="set-cookie"===e?(i[e]?i[e]:[]).concat([o]):i[e]?i[e]+", "+o:o}})),i):i}(r.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?r.response:r.responseText,status:r.status,statusText:r.statusText,headers:n,config:t,request:r};_o(e,o,i),r=null}},r.onabort=function(){r&&(o(bo("Request aborted",t,"ECONNABORTED",r)),r=null)},r.onerror=function(){o(bo("Network Error",t,null,r)),r=null},r.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),o(bo(e,t,"ECONNABORTED",r)),r=null},uo.isStandardBrowserEnv()){var c=Co,u=(t.withCredentials||Po(l))&&t.xsrfCookieName?c.read(t.xsrfCookieName):void 0;u&&(i[t.xsrfHeaderName]=u)}if("setRequestHeader"in r&&uo.forEach(i,(function(t,e){void 0===n&&"content-type"===e.toLowerCase()?delete i[e]:r.setRequestHeader(e,t)})),uo.isUndefined(t.withCredentials)||(r.withCredentials=!!t.withCredentials),t.responseType)try{r.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&r.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&r.upload&&r.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){r&&(r.abort(),o(t),r=null)})),void 0===n&&(n=null),r.send(n)}))},xo=S((function(t,e){function o(t){var o;function i(){if(i.enabled){var t=i,n=+new Date,r=n-(o||n);t.diff=r,t.prev=o,t.curr=n,o=n;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(o,n){if("%%"===o)return o;l++;var i=e.formatters[n];if("function"==typeof i){var r=a[l];o=i.call(t,r),a.splice(l,1),l--}return o})),e.formatArgs.call(t,a);var c=i.log||e.log||console.log.bind(console);c.apply(t,a)}}return i.namespace=t,i.enabled=e.enabled(t),i.useColors=e.useColors(),i.color=function(t){var o,n=0;for(o in t)n=(n<<5)-n+t.charCodeAt(o),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),i.destroy=n,"function"==typeof e.init&&e.init(i),e.instances.push(i),i}function n(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=o.debug=o.default=o).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var o;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(o=0;o<i;o++)n[o]&&("-"===(t=n[o].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(o=0;o<e.instances.length;o++){var r=e.instances[o];r.enabled=e.enabled(r.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var o,n;for(o=0,n=e.skips.length;o<n;o++)if(e.skips[o].test(t))return!1;for(o=0,n=e.names.length;o<n;o++)if(e.names[o].test(t))return!0;return!1},e.humanize=L,e.instances=[],e.names=[],e.skips=[],e.formatters={}}));xo.coerce,xo.disable,xo.enable,xo.enabled,xo.humanize,xo.instances,xo.names,xo.skips,xo.formatters;var Ao=S((function(t,e){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=xo).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var o=this.useColors;if(t[0]=(o?"%c":"")+this.namespace+(o?" %c":" ")+t[0]+(o?"%c ":" ")+"+"+e.humanize(this.diff),!o)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(r=i))})),t.splice(r,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}));Ao.log,Ao.formatArgs,Ao.save,Ao.load,Ao.useColors,Ao.storage,Ao.colors;var Eo=(t,e)=>{e=e||process.argv;const o=t.startsWith("-")?"":1===t.length?"-":"--",n=e.indexOf(o+t),i=e.indexOf("--");return-1!==n&&(-1===i||n<i)};const To=process.env;let Oo;function Lo(t){const e=function(t){if(!1===Oo)return 0;if(Eo("color=16m")||Eo("color=full")||Eo("color=truecolor"))return 3;if(Eo("color=256"))return 2;if(t&&!t.isTTY&&!0!==Oo)return 0;const e=Oo?1:0;if("win32"===process.platform){const t=j.default.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in To)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((t=>t in To))||"codeship"===To.CI_NAME?1:e;if("TEAMCITY_VERSION"in To)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(To.TEAMCITY_VERSION)?1:0;if("truecolor"===To.COLORTERM)return 3;if("TERM_PROGRAM"in To){const t=parseInt((To.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(To.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(To.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(To.TERM)||"COLORTERM"in To?1:(To.TERM,e)}(t);return function(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}(e)}Eo("no-color")||Eo("no-colors")||Eo("color=false")?Oo=!1:(Eo("color")||Eo("colors")||Eo("color=true")||Eo("color=always"))&&(Oo=!0),"FORCE_COLOR"in To&&(Oo=0===To.FORCE_COLOR.length||0!==parseInt(To.FORCE_COLOR,10));var Bo={supportsColor:Lo,stdout:Lo(process.stdout),stderr:Lo(process.stderr)},Ro=S((function(t,e){(e=t.exports=xo).init=function(t){t.inspectOpts={};for(var o=Object.keys(e.inspectOpts),n=0;n<o.length;n++)t.inspectOpts[o[n]]=e.inspectOpts[o[n]]},e.log=function(){return process.stderr.write(f.default.format.apply(f.default,arguments)+"\n")},e.formatArgs=function(t){var o=this.namespace;if(this.useColors){var n=this.color,i="[3"+(n<8?n:"8;5;"+n),r="  "+i+";1m"+o+" [0m";t[0]=r+t[0].split("\n").join("\n"+r),t.push(i+"m+"+e.humanize(this.diff)+"[0m")}else t[0]=(e.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+o+" "+t[0]},e.save=function(t){null==t?delete process.env.DEBUG:process.env.DEBUG=t},e.load=o,e.useColors=function(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):p.default.isatty(process.stderr.fd)},e.colors=[6,2,3,4,5,1];try{Bo&&Bo.level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}function o(){return process.env.DEBUG}e.inspectOpts=Object.keys(process.env).filter((function(t){return/^debug_/i.test(t)})).reduce((function(t,e){var o=e.substring(6).toLowerCase().replace(/_([a-z])/g,(function(t,e){return e.toUpperCase()})),n=process.env[e];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),t[o]=n,t}),{}),e.formatters.o=function(t){return this.inspectOpts.colors=this.useColors,f.default.inspect(t,this.inspectOpts).split("\n").map((function(t){return t.trim()})).join(" ")},e.formatters.O=function(t){return this.inspectOpts.colors=this.useColors,f.default.inspect(t,this.inspectOpts)},e.enable(o())}));Ro.init,Ro.log,Ro.formatArgs,Ro.save,Ro.load,Ro.useColors,Ro.colors,Ro.inspectOpts;var $o=S((function(t){"undefined"==typeof process||"renderer"===process.type?t.exports=Ao:t.exports=Ro})),Fo=_.default.Writable,qo=$o("follow-redirects"),Mo={GET:!0,HEAD:!0,OPTIONS:!0,TRACE:!0},Io=Object.create(null);function No(t,e){Fo.call(this),t.headers=t.headers||{},this._options=t,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t.host&&(t.hostname||(t.hostname=t.host),delete t.host),e&&this.on("response",e);var o=this;if(this._onNativeResponse=function(t){o._processResponse(t)},!t.pathname&&t.path){var n=t.path.indexOf("?");n<0?t.pathname=t.path:(t.pathname=t.path.substring(0,n),t.search=t.path.substring(n))}this._performRequest()}function Do(t){var e={maxRedirects:21,maxBodyLength:10485760},o={};return Object.keys(t).forEach((function(n){var i=n+":",r=o[i]=t[n],a=e[n]=Object.create(r);a.request=function(t,n){return"string"==typeof t?(t=w.default.parse(t)).maxRedirects=e.maxRedirects:t=Object.assign({protocol:i,maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},t),t.nativeProtocols=o,b.default.equal(t.protocol,i,"protocol mismatch"),qo("options",t),new No(t,n)},a.get=function(t,e){var o=a.request(t,e);return o.end(),o}})),e}["abort","aborted","error","socket","timeout"].forEach((function(t){Io[t]=function(e){this._redirectable.emit(t,e)}})),No.prototype=Object.create(Fo.prototype),No.prototype.write=function(t,e,o){if(!("string"==typeof t||"object"==typeof t&&"length"in t))throw new Error("data should be a string, Buffer or Uint8Array");"function"==typeof e&&(o=e,e=null),0!==t.length?this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,o)):(this.emit("error",new Error("Request body larger than maxBodyLength limit")),this.abort()):o&&o()},No.prototype.end=function(t,e,o){"function"==typeof t?(o=t,t=e=null):"function"==typeof e&&(o=e,e=null);var n=this._currentRequest;this.write(t||"",e,(function(){n.end(null,null,o)}))},No.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)},No.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive","setTimeout"].forEach((function(t){No.prototype[t]=function(e,o){return this._currentRequest[t](e,o)}})),["aborted","connection","socket"].forEach((function(t){Object.defineProperty(No.prototype,t,{get:function(){return this._currentRequest[t]}})})),No.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(e){if(this._options.agents){var o=t.substr(0,t.length-1);this._options.agent=this._options.agents[o]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);for(var i in this._currentUrl=w.default.format(this._options),n._redirectable=this,Io)i&&n.on(i,Io[i]);if(this._isRedirect){var r=0,a=this._requestBodyBuffers;!function t(){if(r<a.length){var e=a[r++];n.write(e.data,e.encoding,t)}else n.end()}()}}else this.emit("error",new Error("Unsupported protocol "+t))},No.prototype._processResponse=function(t){this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:t.statusCode});var e=t.headers.location;if(e&&!1!==this._options.followRedirects&&t.statusCode>=300&&t.statusCode<400){if(++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new Error("Max redirects exceeded."));var o,n=this._options.headers;if(307!==t.statusCode&&!(this._options.method in Mo))for(o in this._options.method="GET",this._requestBodyBuffers=[],n)/^content-/i.test(o)&&delete n[o];if(!this._isRedirect)for(o in n)/^host$/i.test(o)&&delete n[o];var i=w.default.resolve(this._currentUrl,e);qo("redirecting to",i),Object.assign(this._options,w.default.parse(i)),this._isRedirect=!0,this._performRequest(),t.destroy()}else t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[]};var Uo=Do({http:y.default,https:v.default}),Ho=Do;Uo.wrap=Ho;var Wo,Vo="axios",zo="0.19.2",Jo="Promise based HTTP client for the browser and node.js",Go="index.js",Qo={test:"grunt test && bundlesize",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},Ko={type:"git",url:"https://github.com/axios/axios.git"},Yo=["xhr","http","ajax","promise","node"],Xo="Matt Zabriskie",Zo={url:"https://github.com/axios/axios/issues"},tn="https://github.com/axios/axios",en={bundlesize:"^0.17.0",coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^5.2.0",sinon:"^4.5.0",typescript:"^2.8.1","url-search-params":"^0.10.0",webpack:"^1.13.1","webpack-dev-server":"^1.14.1"},on={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},nn="./index.d.ts",rn={"follow-redirects":"1.5.10"},an=[{path:"./dist/axios.min.js",threshold:"5kB"}],sn={name:Vo,version:zo,description:Jo,main:Go,scripts:Qo,repository:Ko,keywords:Yo,author:Xo,license:"MIT",bugs:Zo,homepage:tn,devDependencies:en,browser:on,typings:nn,dependencies:rn,bundlesize:an},ln=(Wo=Object.freeze({__proto__:null,name:Vo,version:zo,description:Jo,main:Go,scripts:Qo,repository:Ko,keywords:Yo,author:Xo,license:"MIT",bugs:Zo,homepage:tn,devDependencies:en,browser:on,typings:nn,dependencies:rn,bundlesize:an,default:sn}))&&Wo.default||Wo,cn=Uo.http,un=Uo.https,dn=/https:?/,hn=function(t){return new Promise((function(e,o){var n=function(t){e(t)},i=function(t){o(t)},r=t.data,a=t.headers;if(a["User-Agent"]||a["user-agent"]||(a["User-Agent"]="axios/"+ln.version),r&&!uo.isStream(r)){if(Buffer.isBuffer(r));else if(uo.isArrayBuffer(r))r=Buffer.from(new Uint8Array(r));else{if(!uo.isString(r))return i(bo("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t));r=Buffer.from(r,"utf-8")}a["Content-Length"]=r.length}var s=void 0;t.auth&&(s=(t.auth.username||"")+":"+(t.auth.password||""));var l=jo(t.baseURL,t.url),c=w.default.parse(l),u=c.protocol||"http:";if(!s&&c.auth){var d=c.auth.split(":");s=(d[0]||"")+":"+(d[1]||"")}s&&delete a.Authorization;var h=dn.test(u),p=h?t.httpsAgent:t.httpAgent,f={path:po(c.path,t.params,t.paramsSerializer).replace(/^\?/,""),method:t.method.toUpperCase(),headers:a,agent:p,agents:{http:t.httpAgent,https:t.httpsAgent},auth:s};t.socketPath?f.socketPath=t.socketPath:(f.hostname=c.hostname,f.port=c.port);var m,g=t.proxy;if(!g&&!1!==g){var b=u.slice(0,-1)+"_proxy",_=process.env[b]||process.env[b.toUpperCase()];if(_){var j=w.default.parse(_),P=process.env.no_proxy||process.env.NO_PROXY,C=!0;if(P){var S=P.split(",").map((function(t){return t.trim()}));C=!S.some((function(t){return!!t&&("*"===t||("."===t[0]&&c.hostname.substr(c.hostname.length-t.length)===t||c.hostname===t))}))}if(C&&(g={host:j.hostname,port:j.port},j.auth)){var x=j.auth.split(":");g.auth={username:x[0],password:x[1]}}}}if(g&&(f.hostname=g.host,f.host=g.host,f.headers.host=c.hostname+(c.port?":"+c.port:""),f.port=g.port,f.path=u+"//"+c.hostname+(c.port?":"+c.port:"")+f.path,g.auth)){var A=Buffer.from(g.auth.username+":"+g.auth.password,"utf8").toString("base64");f.headers["Proxy-Authorization"]="Basic "+A}var E=h&&(!g||dn.test(g.protocol));t.transport?m=t.transport:0===t.maxRedirects?m=E?v.default:y.default:(t.maxRedirects&&(f.maxRedirects=t.maxRedirects),m=E?un:cn),t.maxContentLength&&t.maxContentLength>-1&&(f.maxBodyLength=t.maxContentLength);var T=m.request(f,(function(e){if(!T.aborted){var o=e;switch(e.headers["content-encoding"]){case"gzip":case"compress":case"deflate":o=204===e.statusCode?o:o.pipe(k.default.createUnzip()),delete e.headers["content-encoding"]}var r=e.req||T,a={status:e.statusCode,statusText:e.statusMessage,headers:e.headers,config:t,request:r};if("stream"===t.responseType)a.data=o,_o(n,i,a);else{var s=[];o.on("data",(function(e){s.push(e),t.maxContentLength>-1&&Buffer.concat(s).length>t.maxContentLength&&(o.destroy(),i(bo("maxContentLength size of "+t.maxContentLength+" exceeded",t,null,r)))})),o.on("error",(function(e){T.aborted||i(wo(e,t,null,r))})),o.on("end",(function(){var e=Buffer.concat(s);"arraybuffer"!==t.responseType&&(e=e.toString(t.responseEncoding)),a.data=e,_o(n,i,a)}))}}}));T.on("error",(function(e){T.aborted||i(wo(e,t,null,T))})),t.timeout&&T.setTimeout(t.timeout,(function(){T.abort(),i(bo("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",T))})),t.cancelToken&&t.cancelToken.promise.then((function(t){T.aborted||(T.abort(),i(t))})),uo.isStream(r)?r.on("error",(function(e){i(wo(e,t,null,T))})).pipe(T):T.end(r)}))},pn={"Content-Type":"application/x-www-form-urlencoded"};function fn(t,e){!uo.isUndefined(t)&&uo.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var mn,gn={adapter:("undefined"!=typeof XMLHttpRequest?mn=So:"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(mn=hn),mn),transformRequest:[function(t,e){return vo(e,"Accept"),vo(e,"Content-Type"),uo.isFormData(t)||uo.isArrayBuffer(t)||uo.isBuffer(t)||uo.isStream(t)||uo.isFile(t)||uo.isBlob(t)?t:uo.isArrayBufferView(t)?t.buffer:uo.isURLSearchParams(t)?(fn(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):uo.isObject(t)?(fn(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};gn.headers={common:{Accept:"application/json, text/plain, */*"}},uo.forEach(["delete","get","head"],(function(t){gn.headers[t]={}})),uo.forEach(["post","put","patch"],(function(t){gn.headers[t]=uo.merge(pn)}));var yn=gn;function vn(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var wn=function(t){return vn(t),t.headers=t.headers||{},t.data=go(t.data,t.headers,t.transformRequest),t.headers=uo.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),uo.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||yn.adapter)(t).then((function(e){return vn(t),e.data=go(e.data,e.headers,t.transformResponse),e}),(function(e){return yo(e)||(vn(t),e&&e.response&&(e.response.data=go(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},bn=function(t,e){e=e||{};var o={},n=["url","method","params","data"],i=["headers","auth","proxy"],r=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];uo.forEach(n,(function(t){void 0!==e[t]&&(o[t]=e[t])})),uo.forEach(i,(function(n){uo.isObject(e[n])?o[n]=uo.deepMerge(t[n],e[n]):void 0!==e[n]?o[n]=e[n]:uo.isObject(t[n])?o[n]=uo.deepMerge(t[n]):void 0!==t[n]&&(o[n]=t[n])})),uo.forEach(r,(function(n){void 0!==e[n]?o[n]=e[n]:void 0!==t[n]&&(o[n]=t[n])}));var a=n.concat(i).concat(r),s=Object.keys(e).filter((function(t){return-1===a.indexOf(t)}));return uo.forEach(s,(function(n){void 0!==e[n]?o[n]=e[n]:void 0!==t[n]&&(o[n]=t[n])})),o};function _n(t){this.defaults=t,this.interceptors={request:new mo,response:new mo}}_n.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=bn(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[wn,void 0],o=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)o=o.then(e.shift(),e.shift());return o},_n.prototype.getUri=function(t){return t=bn(this.defaults,t),po(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},uo.forEach(["delete","get","head","options"],(function(t){_n.prototype[t]=function(e,o){return this.request(uo.merge(o||{},{method:t,url:e}))}})),uo.forEach(["post","put","patch"],(function(t){_n.prototype[t]=function(e,o,n){return this.request(uo.merge(n||{},{method:t,url:e,data:o}))}}));var jn=_n;function kn(t){this.message=t}kn.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},kn.prototype.__CANCEL__=!0;var Pn=kn;function Cn(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var o=this;t((function(t){o.reason||(o.reason=new Pn(t),e(o.reason))}))}Cn.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Cn.source=function(){var t;return{token:new Cn((function(e){t=e})),cancel:t}};var Sn=Cn;function xn(t){var e=new jn(t),o=no(jn.prototype.request,e);return uo.extend(o,jn.prototype,e),uo.extend(o,e),o}var An=xn(yn);An.Axios=jn,An.create=function(t){return xn(bn(An.defaults,t))},An.Cancel=Pn,An.CancelToken=Sn,An.isCancel=yo,An.all=function(t){return Promise.all(t)},An.spread=function(t){return function(e){return t.apply(null,e)}};var En=An,Tn=An;En.default=Tn;var On=En,Ln=S((function(t,e){!function(e,o){t.exports=function(e){var o,n=(e=e||{}).Base64,i="2.6.4",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=function(t){for(var e={},o=0,n=t.length;o<n;o++)e[t.charAt(o)]=o;return e}(r),s=String.fromCharCode,l=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?s(192|e>>>6)+s(128|63&e):s(224|e>>>12&15)+s(128|e>>>6&63)+s(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return s(240|e>>>18&7)+s(128|e>>>12&63)+s(128|e>>>6&63)+s(128|63&e)},c=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,u=function(t){return t.replace(c,l)},d=function(t){var e=[0,2,1][t.length%3],o=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[r.charAt(o>>>18),r.charAt(o>>>12&63),e>=2?"=":r.charAt(o>>>6&63),e>=1?"=":r.charAt(63&o)].join("")},h=e.btoa&&"function"==typeof e.btoa?function(t){return e.btoa(t)}:function(t){if(t.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return t.replace(/[\s\S]{1,3}/g,d)},p=function(t){return h(u(String(t)))},f=function(t){return t.replace(/[+\/]/g,(function(t){return"+"==t?"-":"_"})).replace(/=/g,"")},m=function(t,e){return e?f(p(t)):p(t)},g=function(t){return m(t,!0)};e.Uint8Array&&(o=function(t,e){for(var o="",n=0,i=t.length;n<i;n+=3){var a=t[n],s=t[n+1],l=t[n+2],c=a<<16|s<<8|l;o+=r.charAt(c>>>18)+r.charAt(c>>>12&63)+(void 0!==s?r.charAt(c>>>6&63):"=")+(void 0!==l?r.charAt(63&c):"=")}return e?f(o):o});var y,v=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,w=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return s(55296+(e>>>10))+s(56320+(1023&e));case 3:return s((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return s((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},b=function(t){return t.replace(v,w)},_=function(t){var e=t.length,o=e%4,n=(e>0?a[t.charAt(0)]<<18:0)|(e>1?a[t.charAt(1)]<<12:0)|(e>2?a[t.charAt(2)]<<6:0)|(e>3?a[t.charAt(3)]:0),i=[s(n>>>16),s(n>>>8&255),s(255&n)];return i.length-=[0,0,2,1][o],i.join("")},j=e.atob&&"function"==typeof e.atob?function(t){return e.atob(t)}:function(t){return t.replace(/\S{1,4}/g,_)},k=function(t){return j(String(t).replace(/[^A-Za-z0-9\+\/]/g,""))},P=function(t){return b(j(t))},C=function(t){return String(t).replace(/[-_]/g,(function(t){return"-"==t?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},S=function(t){return P(C(t))};e.Uint8Array&&(y=function(t){return Uint8Array.from(k(C(t)),(function(t){return t.charCodeAt(0)}))});var x=function(){var t=e.Base64;return e.Base64=n,t};if(e.Base64={VERSION:i,atob:k,btoa:h,fromBase64:S,toBase64:m,utob:u,encode:m,encodeURI:g,btou:b,decode:S,noConflict:x,fromUint8Array:o,toUint8Array:y},"function"==typeof Object.defineProperty){var A=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};e.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",A((function(){return S(this)}))),Object.defineProperty(String.prototype,"toBase64",A((function(t){return m(this,t)}))),Object.defineProperty(String.prototype,"toBase64URI",A((function(){return m(this,!0)})))}}e.Meteor&&(Base64=e.Base64);t.exports&&(t.exports.Base64=e.Base64);return{Base64:e.Base64}}(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:C)}));Ln.Base64;var Bn=S((function(t,e){t.exports=function(t,e,o,n){function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},i.apply(this,arguments)}function r(t){return"[object object]"===Object.prototype.toString.call(t).toLowerCase()}function a(t){return"[object array]"===Object.prototype.toString.call(t).toLowerCase()}t=t&&t.hasOwnProperty("default")?t.default:t,o=o&&o.hasOwnProperty("default")?o.default:o;var s=Object.prototype.hasOwnProperty;function l(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");return Object(t)}function c(t,e,o){var n=e[o];if(null!=n){if(s.call(t,o)&&(void 0===t[o]||null===t[o]))throw new TypeError("Cannot convert undefined or null to object ("+o+")");s.call(t,o)&&d(n)?t[o]=u(Object(t[o]),e[o]):t[o]=n}}function u(t,e){if(t===e)return t;for(var o in e=Object(e))s.call(e,o)&&c(t,e,o);return t}function d(t){return null!==t&&("function"==typeof t||r(t))}function h(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];t=l(t);for(var n=1;n<arguments.length;n++)u(t,arguments[n]);return t}function p(t,e,o){if(void 0===o&&(o=!0),t){var n=document.createElement("script");n.async=o,n.readyState?n.onreadystatechange=r:n.onload=r,n.src=t;var i=document.getElementsByTagName("head")[0]||document.body;i.appendChild(n)&&(i=null)}function r(){var t=n.readyState;(void 0===t||/^(loaded|complete)$/.test(t))&&(n.onload=n.onreadystatechange=null,n=null,e&&e())}}function f(t){if(null!=window.document.cookie&&""!=window.document.cookie)for(var e=window.document.cookie.split("; "),o=0;o<e.length;o++){var n=e[o].split("=");if(n[0]==t)return unescape(n[1])}return""}function m(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),o=window.location.search.substr(1).match(e);return null!=o&&""!=o[2]?o[2]:null}function g(t){return t.replace(/^\s+|\s+$/g,"")}var y=new(function(){function t(){this.deepAssign=h,this.loadjs=p,this.getCookie=f,this.isArray=a,this.isObejct=r,this.getQueryParam=m,this.trim=g}return t}()),v={common:{needTrack:!0,needEnvFunctions:!0,polyfill:!1,debug:-1,report:!0,reportApi:"//flog.58.com/business_log"},wuba:{isNewApp:!0},ajk:{},m:{},wx:{},mp:{},pc:{needIe886:!1},jjr:{}};function w(t){void 0===t&&(t={}),y.deepAssign(v,t)}function b(){return window.navigator.userAgent||""}function _(){var t=b();return t.indexOf("Android")>-1||t.indexOf("Linux")>-1?"android":t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?"ios":""}var j,k="2.0.1",P="2.0.1",C=function(){function t(t){this.debug=!0,this.eruda=!1,this.ready=!1,this.logQueue=[]}return t.prototype.setMode=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=!1);var o=this;if(!0===e&&p("//j1.58cdn.com.cn/frs/fanglib/ts-flib/"+P+"/polyfill.min.js",(function(){})),-2!=t){var n=0;try{n=+y.getQueryParam("fdebug")}catch(t){console.warn("query param fdebug can't transfer to number")}var i=0;try{var r=new Date,a=decodeURIComponent(y.getCookie("ccsFDebug")).split(",");a.length>=4&&+a[0]==r.getFullYear()&&+a[1]==r.getMonth()+1&&+a[2]==r.getDate()&&(i=+a[3])}catch(t){console.warn("cookie param debug can't transfer to number")}t<0&&(t=0),n>=0&&(t|=n),i>=0&&(t|=i),t<=0?this.debug=!1:(this.debug=(1&t)>0,(2&t)>0&&!this.eruda?(this.eruda=!0,p("//j1.58cdn.com.cn/frs/fanglib/ts-flib/"+P+"/eruda.min.js",(function(){window.eruda.init(),setTimeout((function(){o.logQueueShift()}))}))):(this.ready=!0,setTimeout((function(){o.logQueueShift()}))))}else this.debug=!1},t.prototype.log=function(t,e,o){if(void 0===e&&(e=""),void 0===o&&(o=j.log),this.debug){var n=o.split(",");0==n.length&&this.dealWithLog((function(){console.log(e?e+": ":"",t)})),n.indexOf("log")>-1&&this.dealWithLog((function(){console.log(e?e+": ":"",t)})),n.indexOf("err")>-1&&this.dealWithLog((function(){console.error(e?e+": ":"",t)})),n.indexOf("warn")>-1&&this.dealWithLog((function(){console.warn(e?e+": ":"",t)})),n.indexOf("alert")>-1&&("object"==typeof t?this.dealWithLog((function(){alert((e?e+": ":"")+(window.JSON&&window.JSON.stringify(t)||""))})):this.dealWithLog((function(){alert((e?e+": ":"")+t.toString())}))),n.indexOf("yellow")>-1&&this.dealWithLog((function(){console.log("%c"+(e?e+": ":"")+" "+t,"color:#FFF;background-color: #F7942E;padding: 1px 5px;")})),n.indexOf("red")>-1&&this.dealWithLog((function(){console.log("%c"+(e?e+": ":"")+" "+t,"color:#FFF;background-color: #EC0909;padding: 1px 5px;")})),n.indexOf("green")>-1&&this.dealWithLog((function(){console.log("%c"+(e?e+": ":"")+" "+t,"color:#FFF;background-color: #3CB950;padding: 1px 5px;")}))}},t.prototype.dealWithLog=function(t){this.debug&&(this.ready&&this.logQueue&&this.logQueue.length<1?t():this.logQueue.push(t))},t.prototype.logQueueShift=function(){var t=this;if(this.debug&&this.logQueue&&!(this.logQueue.length<1))if(this.ready&&this.logQueue&&this.logQueue.length>0){var e=this.logQueue.shift();"function"==typeof e&&e(),this.logQueueShift()}else window.eruda&&!0===window.eruda._isInit?(this.ready||setTimeout((function(){t.logQueueShift()}),10),this.ready=!0):setTimeout((function(){t.logQueueShift()}),10)},t}();!function(t){t.warn="warn",t.log="log",t.err="err",t.alert="alert",t.logAlert="log,alert",t.errAlert="err,alert",t.yellow="yellow",t.red="red",t.green="green"}(j||(j={}));var S,x=new C;function A(){var t=b(),e=f("is_from_app");return t.indexOf("AJK")>-1?S.ajk:t.indexOf("WUBA")>-1?S.wuba:"miniprogram"===window.__wxjs_environment?S.mp:t.indexOf("MicroMessenger")>-1?S.wx:t.indexOf("ajk-broker")>-1?S.jjr:f("58ua")?(x.log(f("58ua"),"判定platform时触发cookie 58ua, cookie.58ua",j.warn),x.log(t,"当前环境ua"),S.wuba):"i-ajk"===e||"a-ajk"===e||"1"===e?(x.log(e,"判定platform时触发cookie is_from_app, cookie.is_from_app",j.warn),x.log(t,"当前环境ua"),S.ajk):t.indexOf("Mobile")>-1||t.indexOf("mobile")>-1?S.m:S.pc}function E(){var t=/.anjuke.com$/,e=/.58.com$/,o=window.location.host;return t.test(o)?"ajk":e.test(o)?"wb":""}function T(){var t=b(),e=window.document.referrer,o=/baidu/i,n=/b-31580022738699-me-f-8(23|24|25|58)[^0-9]/gi,i=f("init_refer"),r=f("utm_source"),a=f("spm"),s="";switch(!0){case e.indexOf("m.baidu.com")>-1:case o.test(t):case i.indexOf("baidu.com")>-1:case r.indexOf("baidu")>-1&&r.indexOf("wm")<0:case r.indexOf("baidu.com")>-1:case n.test(a):s="baidu"}return s}function O(){var t=b(),e={x:{width:375,height:812},xr:{width:414,height:896}};if(!/iphone/gi.test(t))return!1;for(var o in e)if(window.screen.height==e[o].height&&window.screen.width==e[o].width)return!0;return!1}!function(t){t.ajk="ajk",t.wuba="wuba",t.mp="mp",t.wx="wx",t.m="m",t.pc="pc",t.jjr="jjr"}(S||(S={}));var L=new(function(){function t(){this.useragent=b(),this.platform=A(),this.os=_(),this.host=E(),this.referrer=T(),this.iphoneX=O(),this.isApp="wuba"===this.platform||"ajk"==this.platform}return t}());function B(){var t=window.navigator&&window.navigator.userAgent||"";if(t.indexOf("AJK")>0){var e=/AJK\/(.*)/i;return(t.match(e)[1]||"").split(" ")[0]}return""}function R(){var t=void 0,e=/W(BU|UB)A\/(\d+(.\d+){2,})/i,o=(window.navigator.userAgent||"").match(e);return t=o?y.getCookie("cversion")?y.getCookie("cversion"):y.getQueryParam("cversion")?y.getQueryParam("cversion"):"":unescape(o[2]),y.getCookie("intermanufacturer")&&0===$(t,"7.4.7.0")&&(t="7.1.5"),t}function $(t,e,o){void 0===o&&(o=".");for(var n=t.split(o),i=e.split(o),r=Math.max(n.length,i.length),a=0;a<r;a++){var s=+(n[a]||0),l=+(i[a]||0);if(s>l)return 1;if(s<l)return-1}return 0}function F(){var t=window.navigator&&window.navigator.userAgent||"";return t.indexOf("ajk-broker")>-1?/(.*)(\/|;)(ajk-broker-(ios|android)\/.*)/.exec(t)[3].split("/")[1]:""}var q=function(){function n(){this.openMonitor=!0}return n.prototype.setMonitor=function(t,e){this.openMonitor=t,this.reportApi=e},n.prototype.report=function(t,n){if(void 0===n&&(n={}),this.openMonitor&&this.reportApi){for(var r=i({},t,{ua:window.navigator.userAgent,cookie:document.cookie,url:window.location.href}),a=i({withCredentials:!0,timeout:1e4,headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}},n),s=Object.keys(r),l=0;l<s.length;l++)"object"==typeof r[s[l]]&&(r[s[l]]=JSON.stringify(r[s[l]]));o.post(this.reportApi,e.stringify(r),a)}},n.prototype.jsonp=function(o,n,r,a){var s=this;void 0===n&&(n={}),void 0===r&&(r={});var l=this;return new Promise((function(c,u){var d=s._parseUrl(o),h=i({},d.query,n),p=""+d.url+e.stringify(h,{addQueryPrefix:!0}),f=i({prefix:"jp",param:"jsoncallback",timeout:1e4},r);t(p,f,(function(t,e){if(t)l.report({from:"http",uri:o,reqData:n,config:r,_url:p,_config:f,resError:t,resData:e}),u(t);else{var i=a&&a.codeKey||"code",s=a&&a.code||"0";null!=e[i]&&e[s]==s||l.report({from:"http",uri:o,method:"jsonp",reqData:n,resData:e,config:r,_url:p,_config:f}),c(e)}}))}))},n.prototype.post=function(t,n,r,a){void 0===n&&(n={}),void 0===r&&(r={});var s=i({withCredentials:!0,timeout:1e4,headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}},r),l=this;return o.post(t,e.stringify(n),s).then((function(e){var o=a&&a.codeKey||"code",i=a&&a.code||"0";return null!=e[o]&&e[i]==i||l.report({from:"http",uri:t,method:"post",reqData:n,config:r,_config:s,resData:e}),e.data})).catch((function(e){return l.report({from:"post_error",uri:t,method:"post",reqData:n,config:r,_config:s,resError:e}),e}))},n.prototype.get=function(t,e,n,r){void 0===e&&(e={}),void 0===n&&(n={});var a=this._parseUrl(t),s=i({},a.query,e),l=i({withCredentials:!0,timeout:1e4,params:s},n),c=this;return o.get(a.url,l).then((function(o){var i=r&&r.codeKey||"code",u=r&&r.code||"0";return null!=o[i]&&o[u]==u||c.report({from:"http",uri:t,method:"get",reqData:e,config:n,_uri:a.url,_data:s,_config:l,resData:o}),o.data})).catch((function(o){return c.report({from:"post_error",uri:t,method:"get",reqData:e,config:n,_uri:a.url,_data:s,_config:l,resError:o}),o}))},n.prototype._parseUrl=function(t){void 0===t&&(t="");var o=(t.match(/(\?.*$)/)||[""])[0],n=t.replace(o,""),i={};return o&&(i=e.parse(o,{ignoreQueryPrefix:!0})),{url:n,query:i}},n}(),M=new q;function I(t){var e={wuba_new:"//j1.58cdn.com.cn/frs/fanglib/ts-flib/"+k+"/wuba_new.js",wuba_old:"//j1.58cdn.com.cn/frs/fanglib/ts-flib/"+k+"/wuba_old.js",m:"//j1.58cdn.com.cn/frs/fanglib/ts-flib/"+k+"/m.js",ajk_new:"//j1.58cdn.com.cn/frs/fanglib/ts-flib/"+k+"/ajk_new.js",ajk_old_ios:"//j1.58cdn.com.cn/frs/fanglib/ts-flib/"+k+"/ajk_old_ios.js",ajk_old_android:"//j1.58cdn.com.cn/frs/fanglib/ts-flib/"+k+"/ajk_old_android.js",wx:"//j1.58cdn.com.cn/frs/fanglib/ts-flib/"+k+"/wx.js",mp:"//j1.58cdn.com.cn/frs/fanglib/ts-flib/"+k+"/mp.js",pc:"//j1.58cdn.com.cn/frs/fanglib/ts-flib/"+k+"/pc.js",jjr_ios:"//j1.58cdn.com.cn/frs/fanglib/ts-flib/"+k+"/jjr_ios.js",jjr_android:"//j1.58cdn.com.cn/frs/fanglib/ts-flib/"+k+"/jjr_android.js"},o={url:"",config:N(),fun:{deepAssign:y.deepAssign,loadjs:y.loadjs,autoLoad:t.autoLoad,debug:x,http:M,jsBase64:n.Base64,monitor:t.monitor}};switch(L.platform){case"wuba":v.wuba.isNewApp?o.url=e.wuba_new:o.url=e.wuba_old;break;case"m":default:o.url=e.m;break;case"ajk":$(B(),"12.17")<0?"ios"===L.os?o.url=e.ajk_old_ios:o.url=e.ajk_old_android:o.url=e.ajk_new;break;case"wx":o.url=e.wx;break;case"mp":o.url=e.mp;break;case"pc":o.url=e.pc;break;case"jjr":"ios"===L.os?o.url=e.jjr_ios:o.url=e.jjr_android}return o}function N(){var t={};y.deepAssign(t,v.common,v[L.platform]);var e=v.common.autoLoadArr||[],o=v[L.platform].autoLoadArr||[];return o&&o.length>0?t.autoLoadArr=o:t.autoLoadArr=e,t}function D(t){var e=H();return{needTrack:e.needTrack||!1,config:e.trackConfig,fun:{deepAssign:y.deepAssign,loadjs:y.loadjs,autoLoad:t,debug:x},env_plat:{env_host:U(),platform:L.platform},isNewApp:e.isNewApp}}function U(){var t=window.location.host;return t.indexOf(".58.com")>0?"wb":t.indexOf(".anjuke.com")>0?"ajk":""}function H(){var t={};return y.deepAssign(t,v.common,v[L.platform]),t}var W=function(){function t(t){this.haveReady=!1,this.loadArr=[],this.selfArr=[],this.id="",this.eventQueue={},this.id=t,this.eventQueue[this.id]=[]}return t.prototype.ready=function(t){this.eventQueue[this.id]||(this.eventQueue[this.id]=[]),this.haveReady&&this.eventQueue[this.id].length<1?t():this.eventQueue[this.id].push(t)},t.prototype.eventQuenePop=function(){if(this.eventQueue[this.id]&&this.eventQueue[this.id].length>0){var t=this.eventQueue[this.id].shift();"function"==typeof t&&t(),this.eventQuenePop()}},t.prototype.trigger=function(t,e){t&&this.loadArr.splice(this.loadArr.indexOf(t),1),0===this.loadArr.length&&0===this.selfArr.length&&(this.haveReady=!0,this.eventQuenePop())},t.prototype.autoLoad=function(t,e){var o=this;if(void 0===e&&(e=!0),r(t)){if(this.haveReady=!t.autoLoadSwitch,!t.autoLoadSwitch)return void this.trigger("");this.loadArr=Object.keys(t.autoLoad);for(var n=function(n){if(!t.autoLoad[n])return i.trigger(n),"continue";p(t.autoLoad[n],(function(){o.trigger(n)}),e)},i=this,s=0,l=this.loadArr;s<l.length;s++)n(l[s])}if(a(t)){this.haveReady=!1,this.loadArr=t;for(var c=function(t){if(!t)return u.trigger(t),"continue";p(t,(function(){o.trigger(t)}),e)},u=this,d=0,h=this.loadArr;d<h.length;d++)c(h[d])}},t}(),V=function(){function t(t,e,o){this.funs=["ajkSelectPhoto","ajkWbFBPhoto","areaInput","back","callApp","callAppOrRedirect","checkPageType","controlBack","controlGesture","dialog","extendBtn","getBridge","getPay","hideTitlePanel","jjrExtendBtn","login","logout","nativeSelect","pageshow","priceInput","ready","realAuth","redirect","reload","saveImages","searchCommunity","setClipboard","setExtendShare","setLeftBtn","setTitle","share","showImg","toast","wechatPay"],this.autoLoad=t,this.plat=e;for(var n=function(t){var e=i.funs[t];i[e]=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];this.autoLoad.haveReady?o.log("当前环境不支持"+e+"方法","",j.yellow):this.autoLoad.ready((function(){t[e].apply(t,n)}))}},i=this,r=0;r<this.funs.length;r++)n(r)}return t.prototype.getVersion=function(){return"wuba"==this.plat?R():"ajk"==this.plat?B():"jjr"==this.plat?F():""},t.prototype.compareVersion=function(t,e,o){return"wuba"==this.plat?$(this.getVersion(),t):"ajk"==this.plat?$(this.getVersion(),e):"jjr"==this.plat?$(this.getVersion(),o):-1},t}(),z=function(t,e){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},z(t,e)};function J(t,e){function o(){this.constructor=t}z(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var G,Q,K,Y,X,Z=function(){function t(){}return t.prototype.send=function(t,e){},t.prototype.show=function(t){},t}();(function(t){t.WB="wb",t.AJK="ajk"})(G||(G={})),function(t){t.AJK="ajk",t.WUBA="wuba",t.MP="mp",t.M="m",t.WX="wx",t.PC="pc"}(Q||(Q={})),function(t){t.WB="wb",t.SOJ="soj",t.WMDA="wmda"}(K||(K={})),function(t){t.SITE_ANJUKE="anjuke",t.SITE_JIKEJIA="jikejia",t.SITE_BROKER="broker",t.SITE_CRM="crm",t.SITE_ANJUKE_TENCENT="anjuke_tencent",t.SITE_WUBA="wuba",t.SITE_GANJI="ganji",t.PLAT_PC="1",t.PLAT_TOUCH="2",t.PLAT_PAD="3",t.PLAT_WX="4",t.PLAT_APP="5",t.PLAT_KUAIYINGYONG="6",t.TYPE_SHOW="1",t.TYPE_CLICK="2",t.TYPE_BAOGUANG="3",t.TYPE_OTHER="99"}(Y||(Y={})),function(t){t[t.PC=1]="PC",t[t.M=2]="M",t[t.PAD=3]="PAD",t[t.MP=4]="MP",t[t.APP=5]="APP"}(X||(X={}));var tt=function(){function t(){}return t.setDefalutTrackUrl=function(t){this.trackUrl=t;var e=this.parseToString(t);window._trackURL=e},t.UpdateTrackUrl=function(t){var e=this.trackUrl;for(var o in t)e[o]=t[o];console.log("option:",t);var n=this.parseToString(e);console.log("x",n),window._trackURL=n},t.parseToString=function(t){var e;try{"object"==typeof t?e=JSON.stringify(t).replace(/\"/gi,"'"):"string"==typeof t&&(e=t.replace(/\"/gi,"'"))}catch(t){console.log("json parse err",t)}return e},t.parseToJson=function(t){var e={};if(!t)return e;if("object"==typeof t)return t;if("string"==typeof t)try{var o=t.replace(/'/g,'"');e=JSON.parse(o)}catch(o){e={},console.log("_trackUrl is not validate",t,t.replace(/'/g,'"'))}return e},t.wxRequest=function(t,e){wx.request({url:t.url,method:t.method||"GET",data:t.data||{},success:function(){"function"==typeof e&&e()}})},t}(),et=function(t){function e(e){var o=t.call(this)||this;return o.wbShowUrl="https://tracklog.58.com/wx/track/empty.js.gif",o.wbClickUrl="https://tracklog.58.com/wx/click/empty.js.gif",o.debug=e,o}return J(e,t),e.prototype.config=function(t,e,o){if(this.commonParam=e,this.platform=o,this.pageType=t.pageType||"new_other",this.cate=t.cate,this.area=t.area,this.platform!==Q.WUBA){var n=tt.parseToJson(window._trackURL);(n=i(n,t,this.commonParam)).actionType&&(n.actiontype=n.actionType,n.page=n.actionType,delete n.actionType),n.cate?this.cate=n.cate:this.debug.log("wbConfig中cate不能为空！","",j.err),this.area=n.area,tt.setDefalutTrackUrl(n)}},e.prototype.send=function(t){this.platform===Q.WUBA?this.sendApp(t):this._send_H5(t)},e.prototype.show=function(t){this.platform===Q.WUBA&&this.sendApp(t)},e.prototype.sendApp=function(t){if(window.WBAPP){if(window.WBAPP.invoke&&"function"==typeof window.WBAPP.invoke)return this._send_app_30805(t);if(window.WBAPP.setWebLog&&"function"==typeof window.WBAPP.setWebLog)return this._send_app_20264(t);this.debug.log(JSON.stringify(t),"window.WBAPP[invoke|setWebLog] not exit")}else this.debug.log(JSON.stringify(t),"window.WBAPP not exit")},e.prototype._send_app_20264=function(t){window.WBAPP.setWebLog(t.actionType,t.pageType?t.pageType:this.pageType,t.cate?t.cate:this.cate,t.params,this.area)},e.prototype._send_app_30805=function(t){var e=this._decodeAppParam(t),o={page_type:t.pageType?t.pageType:this.pageType,action_type:t.actionType,cate:t.cate?t.cate:this.cate,params:t.params,area:this.area,json:e};o.area||delete o.area,window.WBAPP.invoke("weblog",o)},e.prototype._send_H5=function(t){var e=this._decodeH5Param(t),o=this._encodeH5Param(e),n=window._trackURL,i=tt.parseToJson(n),r=i.cate;t.cate&&t.cate!==r&&(i.cate=t.cate,tt.setDefalutTrackUrl(i));var a="from="+t.actionType+(""==o?"":"&"+o);"function"==typeof window.clickLog&&window.clickLog(a),t.cate&&t.cate!==r&&(window._trackURL=n)},e.prototype._decodeAppParam=function(t){var e=t.json||{};if(this.commonParam)for(var o in this.commonParam)e[o]=this.commonParam[o];return e},e.prototype._decodeH5Param=function(t){var e={};if(t.json&&"object"==typeof t.json)for(var o in t.json)"from"==o?e._from=t.json[o]:e[o]=t.json[o];return e},e.prototype._encodeH5Param=function(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},e}(Z),ot=function(t){function e(e){var o=t.call(this)||this;return o.wmdaConfig={api_v:1,sdk_v:.1,mode:"report",cookie_domain:".anjuke.com",cate_id:"",page_extra:[{key:"",value:""}],user_extra:[{key:"",value:""}],channel:"",getUserId:function(){},SPA_HASH:!0,appid:"",key:"",project_id:""},o.debug=e,o}return J(e,t),e.prototype.config=function(t,e,o){null!=t.alog?this.alog=t.alog:this.alog=!0,t.appid?this.wmdaConfig.appid=t.appid:this.debug.log("wmdaConfig的appid不能为空！","",j.err),t.key?this.wmdaConfig.key=t.key:this.debug.log("wmdaConfig的key不能为空！","",j.err),t.project_id?this.wmdaConfig.project_id=t.project_id:this.debug.log("wmdaConfig的project_id不能为空!","",j.err),null!=t.page_extra&&(this.wmdaConfig.page_extra=t.page_extra),null!=t.user_extra&&(this.wmdaConfig.user_extra=t.user_extra),null!=t.api_v&&(this.wmdaConfig.api_v=t.api_v),null!=t.sdk_v&&(this.wmdaConfig.sdk_v=t.sdk_v),null!=t.cookie_domain&&(this.wmdaConfig.cookie_domain=t.cookie_domain),null!=t.mode&&(this.wmdaConfig.mode=t.mode),null!=t.cate_id&&(this.wmdaConfig.cate_id=t.cate_id),null!=t.channel&&(this.wmdaConfig.channel=t.channel),null!=t.SPA_HASH&&(this.wmdaConfig.SPA_HASH=t.SPA_HASH),this.commonParam=o||{},this.platform=e,window.WMDA_SDK_CONFIG=this.wmdaConfig},e.prototype.send=function(t){if(t.event_id||this.debug.log("wmda埋点中event_id不能为空!","",j.err),this.platform==Q.AJK&&window.WBAPP&&this.alog){var e=i({},t.params,this.commonParam);window.WBAPP.invoke("ajk_log",{jump_log:{action_code:t.event_id,note:e}})}else{var o=i({},t.params,this.commonParam,{event_id:t.event_id});this.debug.log(o,"wmda-lastParam"),window.WMDA_REPORT&&window.WMDA_REPORT("custom",o)}},e}(Z),nt=function(t){function e(e){var o=t.call(this)||this;return o.sojConfig={site:"anjuke",plat:2,pn:"",p:"",cp:{}},o.ep={app:f("app"),imei:f("imei"),macid:f("macid"),oaid:f("oaid"),udid2:f("udid2")},o.debug=e,o}return J(e,t),e.prototype.config=function(t,e){this.sojConfig.p=t.pageName,this.sojConfig.pn=t.pageName,this.sojConfig.plat=t.plat,this.sojConfig.cp=i({},t.cp),this.commonParam=i({},e,this.ep)},e.prototype.show=function(){this.sojConfig.p?window.LoggerSDK&&window.LoggerSDK.SojLogger?(this.debug.log(this.sojConfig,"sojConfig"),window.logger=new window.LoggerSDK.SojLogger(this.sojConfig),window.logger.sendpv({ep:this.commonParam})):this.debug.log("window.LoggerSDK不存在!","",j.err):this.debug.log("sojConfig中pageName不能为空!","",j.err)},e.prototype.send=function(t){if(window.logger){var e=i({},t.params,this.commonParam);this.debug.log(e,"soj-lastParam"),window.logger.sendnpv({type:t.type||2,action:t.activity,ep:e})}else this.debug.log("window.logger不存在!","",j.err)},e}(Z);function it(t,e){var o=null,n="//flog.58.com/wmonitor?sum=";if(!t)return!1;o=t instanceof Array?t.join(","):t,(new Image).src=n+o+"&index="+(e||1)+"&t="+(new Date).getTime()}var rt=function(t){function e(e){var o=t.call(this)||this;return o.showData={},o.wmdaJs="//j1.58cdn.com.cn/wmda/js/statistic.js",o.sojJs="//pages.anjukestatic.com/usersite/soj/perfect-soj-sdk-1.0.0-202006262045.js",o.referermJs="//tracklog.58.com/referrer_m.js",o.refererPcJs="//tracklog.58.com/referrer4.js",o.debug=e,o.wbSend=new et(e),o.wmdaSend=new ot(e),o.sojSend=new nt(e),o}return J(e,t),e.prototype.config=function(t,e,o){var n=this,i=[];this.autoShow=t.autoShowTrack;var r=e.env_host?e.env_host:G.WB;this.logArr=t.trackHost[r]?t.trackHost[r]:["wb"],this.logArr.forEach((function(o){switch(o){case"wb":t.wbConfig?(n.wbSend.config(t.wbConfig,t.commonParam,e.platform),n.showData.wb={actionType:t.wbConfig.actionType?t.wbConfig.actionType:""},t.wbConfig.params&&(n.showData.wb.params=t.wbConfig.params),t.wbConfig.json&&(n.showData.wb.json=t.wbConfig.json)):n.debug.log("wbConfig不能为空!","",j.err),e.platform!==Q.WUBA&&("pc"==e.platform?i.push(n.refererPcJs):i.push(n.referermJs));break;case"wmda":t.wmdaConfig?(e.platform===Q.AJK&&t.wmdaConfig.alog||i.push(n.wmdaJs),n.wmdaSend.config(t.wmdaConfig,e.platform,t.commonParam),n.showData.wmda={event_id:t.wmdaConfig.event_id?t.wmdaConfig.event_id:""}):n.debug.log("wbConfig不能为空!","",j.err);break;case"soj":t.sojConfig&&t.sojConfig.pageName?(t.sojConfig.plat=t.sojConfig.plat?t.sojConfig.plat:n.getSojPlat(e.platform),n.sojSend.config(t.sojConfig,t.commonParam),
//!option.sojConfig.ignoreZepto && jsArr.push(this.zeptoJs); //ignoreZepto为true可不加载zepto
i.push(n.sojJs)):n.debug.log("sojConfig中pageName不能为空!","",j.err);break;default:n.debug.log(o,"config:无此类型埋点")}})),t.wmConfig&&t.wmConfig.wm&&(this.showData.wm=t.wmConfig.wm),o&&o.autoLoad&&"function"==typeof o.autoLoad.autoLoad&&(o.autoLoad.autoLoad(i,!0),this.autoShow&&"function"==typeof o.autoLoad.ready&&o.autoLoad.ready((function(){n.show()})))},e.prototype.show=function(){var t=this;this.debug.log(JSON.stringify(this.showData),"showData"),this.logArr.forEach((function(e){switch(e){case"wb":t.showData.wb&&t.showData.wb.actionType?t.wbSend.show(t.showData.wb):console.warn("wbConfig中actionType不能为空,否则会导致wb埋点发送失败");break;case"wmda":t.showData.wmda&&t.showData.wmda.event_id?t.wmdaSend.send(t.showData.wmda):console.warn("wmdaConfig中event_id不能为空,否则会导致wmda埋点发送失败");break;case"soj":t.sojSend.show();break;default:t.debug.log(e,"show无此类型埋点")}})),this.showData.wm&&it(this.showData.wm)},e.prototype.send=function(t,e){var o=this;this.debug.log(JSON.stringify(t),"sendData"),this.logArr.forEach((function(n){switch(n){case"wb":var r=o.getWbData(t);e&&r&&(r.json=i({},r.json,e)),r&&o.wbSend.send(r);break;case"wmda":var a=o.getWmdaData(t);e&&a&&(a.params=i({},a.params,e)),a&&o.wmdaSend.send(a);break;case"soj":var s=o.getSojData(t);e&&s&&(s.params=i({},s.params,e)),s&&o.sojSend.send(s);break;default:o.debug.log(n,"send无此类型埋点")}})),t.wm&&it(t.wm)},e.prototype.getWbData=function(t){var e={actionType:""};if(void 0!==t.wb){if(!t.wb.actionType)return!1;e=t.wb}else{if(!t.actionType)return!1;e.actionType=t.actionType,e.cate=t.cate||"",e.pageType=t.pageType||"",e.json=t.json||{},e.params=t.params||[]}return e},e.prototype.getWmdaData=function(t){var e={event_id:""};if(void 0!==t.wmda){if(!t.wmda.event_id)return!1;e=t.wmda}else{if(!t.event_id)return!1;e.event_id=t.event_id,e.params=t.params||{}}return e},e.prototype.getSojData=function(t){var e={activity:""};if(void 0!==t.soj){if(!t.soj.activity)return!1;e=t.soj}else{if(!t.activity)return!1;e.activity=t.activity,e.params=t.params||{}}return e},e.prototype.getSojPlat=function(t){return t==Q.PC?X.PC:t==Q.WUBA||t==Q.AJK?X.APP:t==Q.MP?X.MP:X.M},e}(Z),at=function(){function t(t,e){if(this.index=1,this.env_plat={env_host:G.WB,platform:Q.M},this.config={trackHost:{wb:[K.WB],ajk:[K.WMDA]},autoShowTrack:!0,commonParam:{}},this.isOpen=!0,!t)return this.isOpen=!1,this;t.fun&&t.fun.debug&&(this.debug=t.fun.debug,this.debug.log(t,"Track init resources"),e&&this.debug.log(e,"Track init logData")),this.log=new rt(this.debug),this.data=e,t.fun&&"function"==typeof t.fun.deepAssign&&(t.fun.deepAssign(this.config,t.config),t.fun.deepAssign(this.env_plat,t.env_plat),this.env_plat.platform==Q.MP&&(this.config.trackHost={wb:[K.WB],ajk:[K.SOJ]}),this.log.config(this.config,this.env_plat,t.fun)),t.fun&&t.fun.autoLoad&&"function"==typeof t.fun.autoLoad.ready&&(this.autoLoad=t.fun.autoLoad)}return t.prototype.showLog=function(){var t=this;if(!this.isOpen)return!1;this.autoLoad.ready((function(){t.log.show()}))},t.prototype.sendLog=function(t,e){var o,n=this;if(!this.isOpen)return!1;var i=!0;"string"==typeof t?void 0!==this.data[t]?o=this.data[t]:(i=!1,console.error("该埋点名称在配置文件中不存在",t)):o=t,i&&this.autoLoad.ready((function(){n.log.send(o,e)}))},t.prototype.sendWM=function(t){it(t,this.index++)},t.TRACK_TYPE=K,t}(),st={wuba:{sdkNew:["//a.58cdn.com.cn/app58/rms/app/js/app_30805.js?cachevers=200"],sdkOld:["//a.58cdn.com.cn/app58/rms/app/js/app_20264.js?t="+(new Date).getDate()]},ajk:{sdkNew:["//a.58cdn.com.cn/app58/rms/app/js/app_30805.js?cachevers=200"]},wx:["https://res.wx.qq.com/open/js/jweixin-1.4.0.js","https://weixin.58.com/weixinjsconfig/config?t="+Math.random()+"&debug=false"]};function lt(){var t={};return y.deepAssign(t,v.common,v[L.platform]),t}function ct(t){switch(void 0===t&&(t=""),t){case"wuba":return lt().isNewApp?st.wuba.sdkNew:st.wuba.sdkOld;case"ajk":return $(B(),"12.17")>=0?st.ajk.sdkNew:[];case"wx":case"mp":return st.wx;default:return[]}}function ut(t,e){void 0===e&&(e="");var o=t.config.autoLoadDefault,n=t.config.autoLoadArr;return!1===o?n:ct(e).concat(n)}var dt=function(){function t(t){this.autoLoad=t}return t.prototype.sendLog=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.autoLoad.haveReady||this.autoLoad.ready((function(){t.sendLog.apply(t,e)}))},t.prototype.setData=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.autoLoad.haveReady||this.autoLoad.ready((function(){t.setData.apply(t,e)}))},t.prototype.showLog=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.autoLoad.haveReady||this.autoLoad.ready((function(){t.showLog.apply(t,e)}))},t.prototype.sendWM=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.autoLoad.haveReady||this.autoLoad.ready((function(){t.sendWM.apply(t,e)}))},t}();function ht(t){return"wuba"===t||"ajk"===t||"wx"===t||"pc"===t||"m"===t||"mp"===t||"jjr"===t?t:""}var pt=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendStr(t).end(e)},t.hashAsciiStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendAsciiStr(t).end(e)},t._hex=function(e){var o,n,i,r,a=t.hexChars,s=t.hexOut;for(r=0;r<4;r+=1)for(n=8*r,o=e[r],i=0;i<8;i+=2)s[n+1+i]=a.charAt(15&o),o>>>=4,s[n+0+i]=a.charAt(15&o),o>>>=4;return s.join("")},t._md5cycle=function(t,e){var o=t[0],n=t[1],i=t[2],r=t[3];n=((n+=((i=((i+=((r=((r+=((o=((o+=(n&i|~n&r)+e[0]-680876936|0)<<7|o>>>25)+n|0)&n|~o&i)+e[1]-389564586|0)<<12|r>>>20)+o|0)&o|~r&n)+e[2]+606105819|0)<<17|i>>>15)+r|0)&r|~i&o)+e[3]-1044525330|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((r=((r+=((o=((o+=(n&i|~n&r)+e[4]-176418897|0)<<7|o>>>25)+n|0)&n|~o&i)+e[5]+1200080426|0)<<12|r>>>20)+o|0)&o|~r&n)+e[6]-1473231341|0)<<17|i>>>15)+r|0)&r|~i&o)+e[7]-45705983|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((r=((r+=((o=((o+=(n&i|~n&r)+e[8]+1770035416|0)<<7|o>>>25)+n|0)&n|~o&i)+e[9]-1958414417|0)<<12|r>>>20)+o|0)&o|~r&n)+e[10]-42063|0)<<17|i>>>15)+r|0)&r|~i&o)+e[11]-1990404162|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((r=((r+=((o=((o+=(n&i|~n&r)+e[12]+1804603682|0)<<7|o>>>25)+n|0)&n|~o&i)+e[13]-40341101|0)<<12|r>>>20)+o|0)&o|~r&n)+e[14]-1502002290|0)<<17|i>>>15)+r|0)&r|~i&o)+e[15]+1236535329|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((r=((r+=((o=((o+=(n&r|i&~r)+e[1]-165796510|0)<<5|o>>>27)+n|0)&i|n&~i)+e[6]-1069501632|0)<<9|r>>>23)+o|0)&n|o&~n)+e[11]+643717713|0)<<14|i>>>18)+r|0)&o|r&~o)+e[0]-373897302|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((r=((r+=((o=((o+=(n&r|i&~r)+e[5]-701558691|0)<<5|o>>>27)+n|0)&i|n&~i)+e[10]+38016083|0)<<9|r>>>23)+o|0)&n|o&~n)+e[15]-660478335|0)<<14|i>>>18)+r|0)&o|r&~o)+e[4]-405537848|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((r=((r+=((o=((o+=(n&r|i&~r)+e[9]+568446438|0)<<5|o>>>27)+n|0)&i|n&~i)+e[14]-1019803690|0)<<9|r>>>23)+o|0)&n|o&~n)+e[3]-187363961|0)<<14|i>>>18)+r|0)&o|r&~o)+e[8]+1163531501|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((r=((r+=((o=((o+=(n&r|i&~r)+e[13]-1444681467|0)<<5|o>>>27)+n|0)&i|n&~i)+e[2]-51403784|0)<<9|r>>>23)+o|0)&n|o&~n)+e[7]+1735328473|0)<<14|i>>>18)+r|0)&o|r&~o)+e[12]-1926607734|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((r=((r+=((o=((o+=(n^i^r)+e[5]-378558|0)<<4|o>>>28)+n|0)^n^i)+e[8]-2022574463|0)<<11|r>>>21)+o|0)^o^n)+e[11]+1839030562|0)<<16|i>>>16)+r|0)^r^o)+e[14]-35309556|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((r=((r+=((o=((o+=(n^i^r)+e[1]-1530992060|0)<<4|o>>>28)+n|0)^n^i)+e[4]+1272893353|0)<<11|r>>>21)+o|0)^o^n)+e[7]-155497632|0)<<16|i>>>16)+r|0)^r^o)+e[10]-1094730640|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((r=((r+=((o=((o+=(n^i^r)+e[13]+681279174|0)<<4|o>>>28)+n|0)^n^i)+e[0]-358537222|0)<<11|r>>>21)+o|0)^o^n)+e[3]-722521979|0)<<16|i>>>16)+r|0)^r^o)+e[6]+76029189|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((r=((r+=((o=((o+=(n^i^r)+e[9]-640364487|0)<<4|o>>>28)+n|0)^n^i)+e[12]-421815835|0)<<11|r>>>21)+o|0)^o^n)+e[15]+530742520|0)<<16|i>>>16)+r|0)^r^o)+e[2]-995338651|0)<<23|n>>>9)+i|0,n=((n+=((r=((r+=(n^((o=((o+=(i^(n|~r))+e[0]-198630844|0)<<6|o>>>26)+n|0)|~i))+e[7]+1126891415|0)<<10|r>>>22)+o|0)^((i=((i+=(o^(r|~n))+e[14]-1416354905|0)<<15|i>>>17)+r|0)|~o))+e[5]-57434055|0)<<21|n>>>11)+i|0,n=((n+=((r=((r+=(n^((o=((o+=(i^(n|~r))+e[12]+1700485571|0)<<6|o>>>26)+n|0)|~i))+e[3]-1894986606|0)<<10|r>>>22)+o|0)^((i=((i+=(o^(r|~n))+e[10]-1051523|0)<<15|i>>>17)+r|0)|~o))+e[1]-2054922799|0)<<21|n>>>11)+i|0,n=((n+=((r=((r+=(n^((o=((o+=(i^(n|~r))+e[8]+1873313359|0)<<6|o>>>26)+n|0)|~i))+e[15]-30611744|0)<<10|r>>>22)+o|0)^((i=((i+=(o^(r|~n))+e[6]-1560198380|0)<<15|i>>>17)+r|0)|~o))+e[13]+1309151649|0)<<21|n>>>11)+i|0,n=((n+=((r=((r+=(n^((o=((o+=(i^(n|~r))+e[4]-145523070|0)<<6|o>>>26)+n|0)|~i))+e[11]-1120210379|0)<<10|r>>>22)+o|0)^((i=((i+=(o^(r|~n))+e[2]+718787259|0)<<15|i>>>17)+r|0)|~o))+e[9]-343485551|0)<<21|n>>>11)+i|0,t[0]=o+t[0]|0,t[1]=n+t[1]|0,t[2]=i+t[2]|0,t[3]=r+t[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var o,n,i=this._buffer8,r=this._buffer32,a=this._bufferLength;for(n=0;n<e.length;n+=1){if((o=e.charCodeAt(n))<128)i[a++]=o;else if(o<2048)i[a++]=192+(o>>>6),i[a++]=63&o|128;else if(o<55296||o>56319)i[a++]=224+(o>>>12),i[a++]=o>>>6&63|128,i[a++]=63&o|128;else{if((o=1024*(o-55296)+(e.charCodeAt(++n)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");i[a++]=240+(o>>>18),i[a++]=o>>>12&63|128,i[a++]=o>>>6&63|128,i[a++]=63&o|128}a>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),a-=64,r[0]=r[16])}return this._bufferLength=a,this},t.prototype.appendAsciiStr=function(e){for(var o,n=this._buffer8,i=this._buffer32,r=this._bufferLength,a=0;;){for(o=Math.min(e.length-a,64-r);o--;)n[r++]=e.charCodeAt(a++);if(r<64)break;this._dataLength+=64,t._md5cycle(this._state,i),r=0}return this._bufferLength=r,this},t.prototype.appendByteArray=function(e){for(var o,n=this._buffer8,i=this._buffer32,r=this._bufferLength,a=0;;){for(o=Math.min(e.length-a,64-r);o--;)n[r++]=e[a++];if(r<64)break;this._dataLength+=64,t._md5cycle(this._state,i),r=0}return this._bufferLength=r,this},t.prototype.getState=function(){var t=this,e=t._state;return{buffer:String.fromCharCode.apply(null,t._buffer8),buflen:t._bufferLength,length:t._dataLength,state:[e[0],e[1],e[2],e[3]]}},t.prototype.setState=function(t){var e,o=t.buffer,n=t.state,i=this._state;for(this._dataLength=t.length,this._bufferLength=t.buflen,i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],e=0;e<o.length;e+=1)this._buffer8[e]=o.charCodeAt(e)},t.prototype.end=function(e){void 0===e&&(e=!1);var o,n=this._bufferLength,i=this._buffer8,r=this._buffer32,a=1+(n>>2);if(this._dataLength+=n,i[n]=128,i[n+1]=i[n+2]=i[n+3]=0,r.set(t.buffer32Identity.subarray(a),a),n>55&&(t._md5cycle(this._state,r),r.set(t.buffer32Identity)),(o=8*this._dataLength)<=4294967295)r[14]=o;else{var s=o.toString(16).match(/(.*?)(.{0,8})$/);if(null===s)return;var l=parseInt(s[2],16),c=parseInt(s[1],16)||0;r[14]=l,r[15]=c}return t._md5cycle(this._state,r),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();function ft(t){var e=t;return"string"!=typeof e&&(e="object"==typeof e?JSON.stringify(e):e.toString()),pt.hashStr(e).toString().substring(8,24)}"5d41402abc4b2a76b9719d911017c592"!==pt.hashStr("hello")&&console.error("Md5 self test failed.");var mt=function(){function t(t){this.openMonitor=!0,this.getUniqueId=ft,this.openMonitor=t}return t.prototype.report=function(t,e){void 0===e&&(e={}),M.report(t,e)},t}(),gt=function(t){function e(e){void 0===e&&(e=!0);var o=t.call(this,e)||this;return o.records={},o}return J(e,t),e.prototype.click=function(t,e){if(this.openMonitor){var o=new Date,n="";n="string"==typeof t?t:t.protocol||t.content||t.content.url||t;var i=this.getUniqueId(n);if(this.records[i]){this.records[i].clickTime++;var r=o.getTime()-this.records[i].timeStamp.getTime();r>1e3&&r<3e3&&this.records[i].report<2&&(this.report({from:"redirect",platfrom:e,dtT:r,jumpParams:t,clickTime:this.records[i].clickTime,timeStamp:this.records[i].timeStamp.getTime().toString(),report:this.records[i].report}),this.records[i].report++),this.records[i].timeStamp=o}else this.records[i]={timeStamp:o,clickTime:1,report:0}}},e}(mt),yt=function(t){function e(e){void 0===e&&(e=!0);var o=t.call(this,e)||this;return o.redirect=new gt(o.openMonitor),o}return J(e,t),e}(mt),vt=function(){function t(t,e){var o=this;void 0===t&&(t={}),this.utils=y,this.env=L,this.debug=x,this.http=M,this.autoLoad=new W("entry"),this.ready=function(t){this.autoLoad.ready(t)},this.debug.log(k,"Flib当前版本号"),this.debug.log(this.env.useragent,"运行环境当前ua"),this.debug.log(t,"实例化参数"),window.JSON&&"object"==typeof window.JSON&&"function"==typeof window.JSON.stringify&&"function"==typeof window.JSON.parse||this.utils.loadjs("//j1.58cdn.com.cn/frs/fanglib/ts-flib/"+P+"/json2.min.js",(function(){}));var n=t.common&&t.common.constPlatform;n&&(this.debug.log(n,"Use constPlatform"),(n=ht(n))&&(this.env.platform=n)),this.debug.log(this.env.platform,"运行当前环境"),w(t);var r=t[this.env.platform]&&t[this.env.platform].report||void 0,a=t.common&&t.common.report||void 0,s=t[this.env.platform]&&t[this.env.platform].reportApi||"",l=t.common&&t.common.reportApi||"",c=!0;(!1===r||!1!==r&&!1===a)&&(c=!1);var u=new yt(c);this.http.setMonitor(c,s||l);var d=new W("track"),h=I({autoLoad:this.autoLoad,monitor:u,http:this.http}),p=D(d);if(x.setMode(h.config.debug,h.config.polyfill),wt({version:k,debug:this.debug,http:this.http,host:this.env.host}),this.adapter=new V(this.autoLoad,this.env.platform,this.debug),this.track=new dt(d),!1!==p.needTrack&&p.config)delete p.needTrack,this.ready((function(){var t=new at(p,e);i(o.track,t,t.__proto__),d.trigger("")}));else{var f=new at(null,e);i(this.track,f,f.__proto__),d.trigger("")}if(h.config.needEnvFunctions)this.utils.loadjs(h.url,(function(){var t=new(0,window.FlibInit)(h);window.FlibInit=null,i(o.adapter,t,t.__proto__),o.autoLoad.trigger("")}));else{var m=[];!1!==h.config.autoLoadSwitch&&(m=ut(h,this.env.platform)),this.autoLoad.autoLoad(m),this.autoLoad.trigger("")}}return t}();function wt(t){t.debug.dealWithLog((function(){var e="//zfang.58.com/online/optimus_check_update";"ajk"==t.host&&(e="//fang-zf.anjuke.com/online/optimus_check_update"),t.http.jsonp(e,{version:t.version,from:"flib"}).then((function(e){if(0==e.code&&e.data.length>0)for(var o=0,n=e.data;o<n.length;o++){var i=n[o];t.debug.log(i.message,i.tips,i.type||"log")}}))}))}return vt}(I,oo,On,Ln)}));class Rn{constructor(t,e,o,n){window.attachEvent?window.attachEvent("onload",(function(){Rn.createScriptElement(t,e,o,n)})):window.addEventListener("load",(function(){Rn.createScriptElement(t,e,o,n)}),!1)}static createScriptElement(t,e,o,n){if(t){var i=document.createElement("script");i.type="text/javascript",o&&(i.async=!0),n&&(i.defer=!0),i.readyState?i.onreadystatechange=function(){var t=i.readyState;"loaded"!=t&&"complete"!=t||(i.onreadystatechange=null,e&&e())}:i.onload=function(){i.onload=null,e&&e()},i.src=t,(document.getElementsByTagName("body")[0]||document.body).appendChild(i)}}}class $n{constructor(t){this._options={srckey:"lazy_src",offset:200,defultSrc:document.location.protocol+"//img.58cdn.com.cn/ui7/fang/detail/img/default.png"},this._options=Object.assign(this._options,t),this.bindEvent(),this.scrollHandler(),$(window).scroll()}bindEvent(){let t=this;window.addEventListener?window.addEventListener("scroll",t.scrollHandler.bind(t),!1):window.attachEvent("onscroll",t.scrollHandler.bind(t),!1)}scrollHandler(){this.elements=document.querySelectorAll(`img[${this._options.srckey}]`);for(let t of this.elements){let e=t.attributes[this._options.srckey].value;!t.attributes["data-loaded"]&&e&&this.inVisibleArea(t)&&this.loadImage(t,e)}}inVisibleArea(t){let e=this.getViewHeight(),o=this.getScrollTop();return this.getOffsetTop(t)<e+o+this._options.offset}loadImage(t,e){t.src=e,t.addEventListener?t.addEventListener("load",(()=>{t.setAttribute("data-loaded",!0)}),!1):t.attachEvent("load",(()=>{t.setAttribute("data-loaded",!0)}),!1)}getViewHeight(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}getScrollTop(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}getOffsetTop(t){return t.offsetParent?t.offsetTop+this.getOffsetTop(t.offsetParent):t.offsetTop}}for(var Fn=1,qn=0,Mn=3,In=2,Nn=1,Dn=2,Un=4,Hn=8,Wn=0,Vn=1,zn=2,Jn=3,Gn=4,Qn=5,Kn=6,Yn=7,Xn={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;Xn.getBCHDigit(e)-Xn.getBCHDigit(Xn.G15)>=0;)e^=Xn.G15<<Xn.getBCHDigit(e)-Xn.getBCHDigit(Xn.G15);return(t<<10|e)^Xn.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Xn.getBCHDigit(e)-Xn.getBCHDigit(Xn.G18)>=0;)e^=Xn.G18<<Xn.getBCHDigit(e)-Xn.getBCHDigit(Xn.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return Xn.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,o){switch(t){case Wn:return(e+o)%2==0;case Vn:return e%2==0;case zn:return o%3==0;case Jn:return(e+o)%3==0;case Gn:return(Math.floor(e/2)+Math.floor(o/3))%2==0;case Qn:return e*o%2+e*o%3==0;case Kn:return(e*o%2+e*o%3)%2==0;case Yn:return(e*o%3+(e+o)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new ni([1],0),o=0;o<t;o++)e=e.multiply(new ni([1,Zn.gexp(o)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Nn:return 10;case Dn:return 9;case Un:case Hn:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Nn:return 12;case Dn:return 11;case Un:return 16;case Hn:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case Nn:return 14;case Dn:return 13;case Un:return 16;case Hn:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),o=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var r=0,a=t.isDark(n,i),s=-1;s<=1;s++)if(!(n+s<0||e<=n+s))for(var l=-1;l<=1;l++)i+l<0||e<=i+l||0==s&&0==l||a==t.isDark(n+s,i+l)&&r++;r>5&&(o+=3+r-5)}for(n=0;n<e-1;n++)for(i=0;i<e-1;i++){var c=0;t.isDark(n,i)&&c++,t.isDark(n+1,i)&&c++,t.isDark(n,i+1)&&c++,t.isDark(n+1,i+1)&&c++,0!=c&&4!=c||(o+=3)}for(n=0;n<e;n++)for(i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(o+=40);for(i=0;i<e;i++)for(n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(o+=40);var u=0;for(i=0;i<e;i++)for(n=0;n<e;n++)t.isDark(n,i)&&u++;return o+=10*(Math.abs(100*u/e/e-50)/5)}},Zn={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Zn.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Zn.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},ti=0;ti<8;ti++)Zn.EXP_TABLE[ti]=1<<ti;for(ti=8;ti<256;ti++)Zn.EXP_TABLE[ti]=Zn.EXP_TABLE[ti-4]^Zn.EXP_TABLE[ti-5]^Zn.EXP_TABLE[ti-6]^Zn.EXP_TABLE[ti-8];for(ti=0;ti<255;ti++)Zn.LOG_TABLE[Zn.EXP_TABLE[ti]]=ti;function ei(t){this.mode=Un,this.data=t}function oi(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}function ni(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var o=0;o<t.length&&0==t[o];)o++;this.num=new Array(t.length-o+e);for(var n=0;n<t.length-o;n++)this.num[n]=t[n+o]}function ii(t,e){this.totalCount=t,this.dataCount=e}function ri(){this.buffer=new Array,this.length=0}!function(t){t.fn.qrcode=function(e){"string"==typeof e&&(e={text:e}),e=t.extend({},{render:"canvas",width:78,height:78,typeNumber:-1,correctLevel:In,background:"#ffffff",foreground:"#000000"},e);return this.each((function(){var o="canvas"==e.render?function(){var t=new oi(e.typeNumber,e.correctLevel);t.addData(e.text),t.make();var o=document.createElement("canvas");o.width=e.width,o.height=e.height;for(var n=o.getContext("2d"),i=e.width/t.getModuleCount(),r=e.height/t.getModuleCount(),a=0;a<t.getModuleCount();a++)for(var s=0;s<t.getModuleCount();s++){n.fillStyle=t.isDark(a,s)?e.foreground:e.background;var l=Math.ceil((s+1)*i)-Math.floor(s*i),c=Math.ceil((a+1)*i)-Math.floor(a*i);n.fillRect(Math.round(s*i),Math.round(a*r),l,c)}return o}():function(){var o=new oi(e.typeNumber,e.correctLevel);o.addData(e.text),o.make();for(var n=t("<table></table>").css("width",e.width+"px").css("height",e.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",e.background),i=e.width/o.getModuleCount(),r=e.height/o.getModuleCount(),a=0;a<o.getModuleCount();a++)for(var s=t("<tr></tr>").css("height",r+"px").appendTo(n),l=0;l<o.getModuleCount();l++)t("<td></td>").css("width",i+"px").css("background-color",o.isDark(a,l)?e.foreground:e.background).appendTo(s);return n}();t(o).appendTo(this)}))}}(window.jQuery),ei.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},oi.prototype={addData:function(t){var e=new ei(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=ii.getRSBlocks(t,this.errorCorrectLevel),o=new ri,n=0,i=0;i<e.length;i++)n+=e[i].dataCount;for(i=0;i<this.dataList.length;i++){var r=this.dataList[i];o.put(r.mode,4),o.put(r.getLength(),Xn.getLengthInBits(r.mode,t)),r.write(o)}if(o.getLengthInBits()<=8*n)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[o][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=oi.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var o=-1;o<=7;o++)if(!(t+o<=-1||this.moduleCount<=t+o))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+o][e+n]=0<=o&&o<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var t=0,e=0,o=0;o<8;o++){this.makeImpl(!0,o);var n=Xn.getLostPoint(this);(0==o||t>n)&&(t=n,e=o)}return e},createMovieClip:function(t,e,o){var n=t.createEmptyMovieClip(e,o);this.make();for(var i=0;i<this.modules.length;i++)for(var r=1*i,a=0;a<this.modules[i].length;a++){var s=1*a;this.modules[i][a]&&(n.beginFill(0,100),n.moveTo(s,r),n.lineTo(s+1,r),n.lineTo(s+1,r+1),n.lineTo(s,r+1),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Xn.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var o=0;o<t.length;o++){var n=t[e],i=t[o];if(null==this.modules[n][i])for(var r=-2;r<=2;r++)for(var a=-2;a<=2;a++)this.modules[n+r][i+a]=-2==r||2==r||-2==a||2==a||0==r&&0==a}},setupTypeNumber:function(t){for(var e=Xn.getBCHTypeNumber(this.typeNumber),o=0;o<18;o++){var n=!t&&1==(e>>o&1);this.modules[Math.floor(o/3)][o%3+this.moduleCount-8-3]=n}for(o=0;o<18;o++){n=!t&&1==(e>>o&1);this.modules[o%3+this.moduleCount-8-3][Math.floor(o/3)]=n}},setupTypeInfo:function(t,e){for(var o=this.errorCorrectLevel<<3|e,n=Xn.getBCHTypeInfo(o),i=0;i<15;i++){var r=!t&&1==(n>>i&1);i<6?this.modules[i][8]=r:i<8?this.modules[i+1][8]=r:this.modules[this.moduleCount-15+i][8]=r}for(i=0;i<15;i++){r=!t&&1==(n>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=r:i<9?this.modules[8][15-i-1+1]=r:this.modules[8][15-i-1]=r}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var o=-1,n=this.moduleCount-1,i=7,r=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[n][a-s]){var l=!1;r<t.length&&(l=1==(t[r]>>>i&1)),Xn.getMask(e,n,a-s)&&(l=!l),this.modules[n][a-s]=l,-1==--i&&(r++,i=7)}if((n+=o)<0||this.moduleCount<=n){n-=o,o=-o;break}}}},oi.PAD0=236,oi.PAD1=17,oi.createData=function(t,e,o){for(var n=ii.getRSBlocks(t,e),i=new ri,r=0;r<o.length;r++){var a=o[r];i.put(a.mode,4),i.put(a.getLength(),Xn.getLengthInBits(a.mode,t)),a.write(i)}var s=0;for(r=0;r<n.length;r++)s+=n[r].dataCount;if(i.getLengthInBits()>8*s)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*s+")");for(i.getLengthInBits()+4<=8*s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*s||(i.put(oi.PAD0,8),i.getLengthInBits()>=8*s));)i.put(oi.PAD1,8);return oi.createBytes(i,n)},oi.createBytes=function(t,e){for(var o=0,n=0,i=0,r=new Array(e.length),a=new Array(e.length),s=0;s<e.length;s++){var l=e[s].dataCount,c=e[s].totalCount-l;n=Math.max(n,l),i=Math.max(i,c),r[s]=new Array(l);for(var u=0;u<r[s].length;u++)r[s][u]=255&t.buffer[u+o];o+=l;var d=Xn.getErrorCorrectPolynomial(c),h=new ni(r[s],d.getLength()-1).mod(d);a[s]=new Array(d.getLength()-1);for(u=0;u<a[s].length;u++){var p=u+h.getLength()-a[s].length;a[s][u]=p>=0?h.get(p):0}}var f=0;for(u=0;u<e.length;u++)f+=e[u].totalCount;var m=new Array(f),g=0;for(u=0;u<n;u++)for(s=0;s<e.length;s++)u<r[s].length&&(m[g++]=r[s][u]);for(u=0;u<i;u++)for(s=0;s<e.length;s++)u<a[s].length&&(m[g++]=a[s][u]);return m},ni.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),o=0;o<this.getLength();o++)for(var n=0;n<t.getLength();n++)e[o+n]^=Zn.gexp(Zn.glog(this.get(o))+Zn.glog(t.get(n)));return new ni(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Zn.glog(this.get(0))-Zn.glog(t.get(0)),o=new Array(this.getLength()),n=0;n<this.getLength();n++)o[n]=this.get(n);for(n=0;n<t.getLength();n++)o[n]^=Zn.gexp(Zn.glog(t.get(n))+e);return new ni(o,0).mod(t)}},ii.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],ii.getRSBlocks=function(t,e){var o=ii.getRsBlockTable(t,e);if(null==o)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=o.length/3,i=new Array,r=0;r<n;r++)for(var a=o[3*r+0],s=o[3*r+1],l=o[3*r+2],c=0;c<a;c++)i.push(new ii(s,l));return i},ii.getRsBlockTable=function(t,e){switch(e){case Fn:return ii.RS_BLOCK_TABLE[4*(t-1)+0];case qn:return ii.RS_BLOCK_TABLE[4*(t-1)+1];case Mn:return ii.RS_BLOCK_TABLE[4*(t-1)+2];case In:return ii.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},ri.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var o=0;o<e;o++)this.putBit(1==(t>>>e-o-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};let ai=new Bn({common:{needEnvFunctions:!1}});window.flib=ai;class si{static get(t,e,o){let n=e.successCode?e.successCode:0,i=e.failCode?e.failCode:0;return n&&delete e.successCode,i&&delete e.failCode,new Promise(((r,a)=>{try{P.default.ajax(Object.assign(Object.assign({type:"GET",url:t,data:e,dataType:"json"},o),{success:t=>(n&&ai.track.sendWM(n),r(t)),error:t=>(i&&ai.track.sendWM(i),a(t))}))}catch(t){i&&ai.track.sendWM(i),a(t)}}))}static post(t,e,o){let n=e.successCode?e.successCode:0,i=e.failCode?e.failCode:0;return n&&delete e.successCode,i&&delete e.failCode,new Promise(((r,a)=>{try{P.default.ajax(Object.assign(Object.assign({type:"POST",url:t,data:JSON.stringify(e),contentType:"application/json"},o),{success:t=>(n&&ai.track.sendWM(n),r(t.data)),error:t=>(i&&ai.track.sendWM(i),a(t))}))}catch(t){i&&ai.track.sendWM(i),a(t)}}))}static jsonp(t,e,o,n,i){let r=e.successCode?e.successCode:0,a=e.failCode?e.failCode:0;return r&&delete e.successCode,a&&delete e.failCode,new Promise(((s,l)=>{try{P.default.ajax(Object.assign(Object.assign({type:"GET",url:t,data:e,dataType:"jsonp",jsonp:o,timeout:n},i),{success:t=>(r&&ai.track.sendWM(r),s(t)),error:t=>(a&&ai.track.sendWM(a),l(t))}))}catch(t){a&&ai.track.sendWM(a),l(t)}}))}}class li{constructor(t){this.json4fe=t,this.render()}render(){let t=this;t.getTotalCount(),t.richscan(),t.clickPhone(),t.cdHY(),t.collectHouse(),$.fn.collectHouse=t.collectHouse.bind(t),t.bindHover($("#report"),$("#report-bar")),t.bindHover($("#richscan"),$("#richscan-bar")),t.bindHover($("#manage"),$("#manage-bar"))}getTotalCount(){window.Counter58={userlist:[],total:0},$.ajax({url:document.location.protocol+"//jst1.58.com/counter",data:{infoid:this.json4fe.infoid,uname:"",userid:"",totalControl:"",listControl:"",sid:0,lid:0,px:0,cfpath:""},dataType:"script",success:function(t){$("#totalcount").text(window.Counter58.total),ai.track.sendWM(64326)},error:()=>{ai.track.sendWM(64327)}})}cdHY(){let t=null;$(".cd-official-check").hover((function(){clearTimeout(t),$(this).find(".qrcode-popover").show()})).mouseleave((function(){t=setTimeout((()=>{$(this).find(".qrcode-popover").hide()}),500)}))}clickPhone(){let t=this;$("#gaq_phone").bind("click",(()=>{let e=document.location.protocol+"//my.58.com/downloadinfo/inputmobile/"+t.json4fe.infoid+"/";if($(".iframe-wrap").length<1){let t=`<div class="iframe-wrap">\n                    <div class="title">\n                        <p>把该信息发送到手机</p>\n                        <span id="close-iframe"></span>\n                    </div>\n                    <iframe name="myiframe" id="myrame" src="${e}" frameborder="0" align="left" width="570" height="330" scrolling="no">\n                        <p>你的浏览器不支持iframe标签</p>\n                    </iframe>\n                </div>`;$(".house-title").append(t),$("#close-iframe").bind("click",(()=>{$(".iframe-wrap").css("display","none")}))}else $(".iframe-wrap").css("display","block")}))}richscan(){let t=this;$("#richscan-bar").find(".code").empty().qrcode({render:!window.ActiveXObject||$(document).documentMode>9?"canvas":"table",text:document.location.protocol+"//m.58.com/"+t.json4fe.locallist[0].listname+"/"+t.json4fe.catentry.listname+"/"+t.json4fe.infoid+"x.shtml",width:100,height:100})}bindHover(t,e){var o=null;t.bind("mouseenter",(function(){clearTimeout(o),e.show()})).bind("mouseleave",(function(){o=setTimeout((function(){t.removeClass("hover"),e.hide()}),500)})),e.bind("mouseenter",(function(){clearTimeout(o)})).bind("mouseleave",(function(){e.hide()}))}collectCallback(t){if(t&&t.data){var e=t.data.result,o=$("#su_kfdnew,#su_kfd");e?o.addClass("on").find("span,em").text("取消收藏"):o.removeClass("on").find("span,em").text("加入收藏")}}collectHouse(t){var e=this;t=t||e.collectCallback;si.jsonp(document.location.protocol+"//apihouse.58.com/favorite/FavoriteInfo",{uId:e.GetCookieValue("58cooper").split("&")[0].split("=")[1]||0,pubUserId:e.json4fe.userid,infoId:e.json4fe.infoid,title:document.title,city:e.json4fe.locallist[0].listname,type:e.json4fe.catentry.listname,check:1,successCode:64328,failCode:64329},"jsoncallback").then((e=>{e.code||"function"!=typeof t||t(e)}))}GetCookieValue(t){var e=document.cookie.match(new RegExp(t+"=([^&;]+)"));return null!=e?decodeURI(e[1]):""}}function ci(t){var e,o,n,i,r;t.time;var a=t.images.children().first().width(),s=t.images.children().length,l=t.showlist,c=s*a+(s-1)*t.spacing,u=[],d=!1,h=function(a){d||e==a||(t.images.parent(".basic-pic-list").prev().children("#jPlayerBtn").length>0&&t.showImg.hide(),t.images.parent(".basic-pic-list").prev().children("#jPlayerBtn").length>0&&t.showDesc.hide(),r=setTimeout((function(){t.loading.show()}),t.time),d=!0,a=a>u.length-1||0>a?0:a,p(u[a].src,(function(){clearTimeout(r),t.loading.hide(),t.images.parent(".basic-pic-list").prev().children("#jPlayerBtn").length>0&&t.showImg.show(),t.images.parent(".basic-pic-list").prev().children("#jPlayerBtn").length>0&&t.showDesc.show(),t.showImg.attr("src",u[a].src).removeClass("maxWidth"),o=t.showImg.parent().height(),n=t.showImg.height(),i=(o-n)/2,t.showImg.css("marginTop",i),t.showImg.data("index",a),t.showDesc.html(parseInt(a+1)+"/"+s),t.showImg.attr("alt",parseInt(a+1)+"/"+s),d=!1})))},p=function(t,e){var o=document.createElement("img");o.onload=e,o.src=t},f=function(o){if(e!==o){t.images.children().removeClass("actives"),t.images.children(":eq("+o+")").addClass("actives"),(o-=t.selectPosition)<0||s-l<0?o=0:o>s-l&&(o=s-l);var n=-(o*a+o*t.spacing);t.images.animate({left:n},250)}},m=function(t){0!==u.length&&(f(t),h(t),e=t)},g=function(e){var o="disable";return u.length<=1?(t.pre.addClass("disable"),void t.next.addClass("disable")):(t.pre.removeClass(o),void t.next.removeClass(o))};return t.images.children().each((function(t){var e=$(this);e.data("index",t),u.push({src:e.data("src")})})),t.isBigPic&&s-l<0&&t.images.parent().css({width:c,marginLeft:-c/2}),m(0),g(),t.pre.on("click",(function(){if(0===e)var t=u.length-1;else t=e-1;m(t),g()})),t.next.on("click",(function(){if(e===u.length-1)var t=0;else t=e+1;m(t),g()})),t.images.children().on("click",(function(){var t=$(this).data("index");m(t),g()})),{setPage:function(t){m(t),g()}}}function ui(t){this.op=$.extend({videoPath:"http://www.zhangxinxu.com/study/media/cat.mp4",supplied:"webmv, ogv, m4v,3gpp",size:{width:"100%",height:"350px"},verticalVolume:!0,loop:!1,useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!0,toggleDuration:!0},t),this.dom={videoBox:$(this.op.container),videoWin:$(".jp-jplayer"),playBtn:$(".jp-play"),stopBtn:$(".jp-stop"),repeatBtn:$(".jp-repeat"),toggleBtn:$("[toggle]"),volumeCto:$(".jp-volume-controls"),volumnBarWarp:$(".jp-volume-bar-wrap"),volumnMute:$(".jp-mute"),volumnMax:$(".jp-volume-max"),volumnBar:$(".jp-volume-bar"),stateDialog:$(".jp-state-dialog"),networkDialog:$(".jp-networkError-dialog"),closeBtn:$(".jp-btn-close"),reloadBtn:$(".jp-btn-reload"),tipsTitle:$(".jp-state-text"),tipsBtn:$(".jp-state-button"),tipsLogo:$(".jp-state-logo")},this.state={waiting:void 0,reloadTimes:0,errored:!1,stalled:!1,finished:!1},this.tips={errored:{title:"点击刷新",btn:"点击刷新",cls:"jp-refresh-animate"},stalled:{title:"加载中…",btn:!1,cls:"jp-loading-animate"},finished:{title:"点击重播",btn:"点击重播",cls:"jp-replay-animate"}},this.init(),this.acts()}new class{constructor(){this.render()}render(){var t,e;t=window,e=function(t,e){t.fn.jPlayer=function(o){var n="jPlayer",i="string"==typeof o,r=Array.prototype.slice.call(arguments,1),a=this;return o=!i&&r.length?t.extend.apply(null,[!0,o].concat(r)):o,i&&"_"===o.charAt(0)||(i?this.each((function(){var i=t(this).data(n),s=i&&t.isFunction(i[o])?i[o].apply(i,r):i;if(s!==i&&s!==e)return a=s,!1})):this.each((function(){var e=t(this).data(n);e?e.option(o||{}):t(this).data(n,new t.jPlayer(o,this))}))),a},t.jPlayer=function(e,o){if(arguments.length){this.element=t(o),this.options=t.extend(!0,{},this.options,e);var n=this;this.element.bind("remove.jPlayer",(function(){n.destroy()})),this._init()}},"function"!=typeof t.fn.stop&&(t.fn.stop=function(){}),t.jPlayer.emulateMethods="load play pause",t.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",t.jPlayer.emulateOptions="muted volume",t.jPlayer.reservedEvent="ready flashreset resize repeat error warning",t.jPlayer.event={},t.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],(function(){t.jPlayer.event[this]="jPlayer_"+this})),t.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","canplay","canplaythrough"],t.jPlayer.pause=function(){t.jPlayer.prototype.destroyRemoved(),t.each(t.jPlayer.prototype.instances,(function(t,e){e.data("jPlayer").status.srcSet&&e.jPlayer("pause")}))},t.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var o=function(){this.init()};o.prototype={init:function(){this.options={timeFormat:t.jPlayer.timeFormat}},time:function(t){t=t&&"number"==typeof t?t:0;var e=new Date(1e3*t),o=e.getUTCHours(),n=this.options.timeFormat.showHour?e.getUTCMinutes():e.getUTCMinutes()+60*o,i=this.options.timeFormat.showMin?e.getUTCSeconds():e.getUTCSeconds()+60*n,r=this.options.timeFormat.padHour&&o<10?"0"+o:o,a=this.options.timeFormat.padMin&&n<10?"0"+n:n,s=this.options.timeFormat.padSec&&i<10?"0"+i:i,l="";return l+=this.options.timeFormat.showHour?r+this.options.timeFormat.sepHour:"",l+=this.options.timeFormat.showMin?a+this.options.timeFormat.sepMin:"",l+=this.options.timeFormat.showSec?s+this.options.timeFormat.sepSec:""}};var n=new o;t.jPlayer.convertTime=function(t){return n.time(t)},t.jPlayer.uaBrowser=function(t){var e=t.toLowerCase(),o=/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(e)||[];return{browser:o[1]||"",version:o[2]||"0"}},t.jPlayer.uaPlatform=function(t){var e=t.toLowerCase(),o=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(e)||[],n=/(ipad|playbook)/.exec(e)||!/(mobile)/.exec(e)&&/(android)/.exec(e)||[];return o[1]&&(o[1]=o[1].replace(/\s/g,"_")),{platform:o[1]||"",tablet:n[1]||""}},t.jPlayer.browser={},t.jPlayer.platform={};var i=t.jPlayer.uaBrowser(navigator.userAgent);i.browser&&(t.jPlayer.browser[i.browser]=!0,t.jPlayer.browser.version=i.version);var r=t.jPlayer.uaPlatform(navigator.userAgent);r.platform&&(t.jPlayer.platform[r.platform]=!0,t.jPlayer.platform.mobile=!r.tablet,t.jPlayer.platform.tablet=!!r.tablet),t.jPlayer.getDocMode=function(){var e;return t.jPlayer.browser.msie&&(document.documentMode?e=document.documentMode:(e=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(e=7))),e},t.jPlayer.browser.documentMode=t.jPlayer.getDocMode(),t.jPlayer.nativeFeatures={init:function(){var t,e,o,n=document,i=n.createElement("video"),r={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""],ms:["","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"]},a=["w3c","moz","webkit","webkitVideo","ms"];for(this.fullscreen=t={support:{w3c:!!n[r.w3c[0]],moz:!!n[r.moz[0]],webkit:"function"==typeof n[r.webkit[3]],webkitVideo:"function"==typeof i[r.webkitVideo[2]],ms:"function"==typeof i[r.ms[2]]},used:{}},e=0,o=a.length;e<o;e++){var s=a[e];if(t.support[s]){t.spec=s,t.used[s]=!0;break}}if(t.spec){var l=r[t.spec];t.api={fullscreenEnabled:!0,fullscreenElement:function(t){return(t=t||n)[l[1]]},requestFullscreen:function(t){return t[l[2]]()},exitFullscreen:function(t){return(t=t||n)[l[3]]()}},t.event={fullscreenchange:l[4],fullscreenerror:l[5]}}else t.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},t.event={}}},t.jPlayer.nativeFeatures.init(),t.jPlayer.focus=null,t.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var a=function(e){var o,n=t.jPlayer.focus;n&&(t.each(t.jPlayer.keyIgnoreElementNames.split(/\s+/g),(function(t,n){if(e.target.nodeName.toUpperCase()===n.toUpperCase())return o=!0,!1})),o||t.each(n.options.keyBindings,(function(o,i){if(i&&t.isFunction(i.fn)&&("number"==typeof i.key&&e.which===i.key||"string"==typeof i.key&&e.key===i.key))return e.preventDefault(),i.fn(n),!1})))};t.jPlayer.keys=function(e){var o="keydown.jPlayer";t(document.documentElement).unbind(o),e&&t(document.documentElement).bind(o,a)},t.jPlayer.keys(!0),t.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(e){e.jPlayer.options.loop?t(this).unbind(".jPlayerRepeat").bind(t.jPlayer.event.ended+".jPlayer.jPlayerRepeat",(function(){t(this).jPlayer("play")})):t(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(t){t.status.paused?t.play():t.pause()}},fullScreen:{key:70,fn:function(t){(t.status.video||t.options.audioFullScreen)&&t._setOption("fullScreen",!t.options.fullScreen)}},muted:{key:77,fn:function(t){t._muted(!t.options.muted)}},volumeUp:{key:190,fn:function(t){t.volume(t.options.volume+.1)}},volumeDown:{key:188,fn:function(t){t.volume(t.options.volume-.1)}},loop:{key:76,fn:function(t){t._loop(!t.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var o=this;if(this.element.empty(),this.status=t.extend({},this.status),this.internal=t.extend({},this.internal),this.options.timeFormat=t.extend({},t.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=t.jPlayer.platform.ipad||t.jPlayer.platform.iphone||t.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!t.jPlayer.focus&&(t.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:NaN},t.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),t.each(this.options.supplied.toLowerCase().split(","),(function(e,n){var i=n.replace(/^\s+|\s+$/g,"");if(o.format[i]){var r=!1;t.each(o.formats,(function(t,e){if(i===e)return r=!0,!1})),r||o.formats.push(i)}})),t.each(this.options.solution.toLowerCase().split(","),(function(e,n){var i=n.replace(/^\s+|\s+$/g,"");if(o.solution[i]){var r=!1;t.each(o.solutions,(function(t,e){if(i===e)return r=!0,!1})),r||o.solutions.push(i)}})),t.each(this.options.auroraFormats.toLowerCase().split(","),(function(e,n){var i=n.replace(/^\s+|\s+$/g,"");if(o.format[i]){var r=!1;t.each(o.aurora.formats,(function(t,e){if(i===e)return r=!0,!1})),r||o.aurora.formats.push(i)}})),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=t.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=t.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:e}),this.internal.video=t.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:e}),this.internal.flash=t.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:e,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=t.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:e}),t.each(t.jPlayer.event,(function(t,n){o.options[t]!==e&&(o.element.bind(n+".jPlayer",o.options[t]),o.options[t]=e)})),this.require.audio=!1,this.require.video=!1,t.each(this.formats,(function(t,e){o.require[o.format[e].media]=!0})),this.require.video?this.options=t.extend(!0,{},this.optionsVideo,this.options):this.options=t.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),t.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){o.status.video&&!o.status.waitForPlay||o.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=t("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",(function(){o._trigger(t.jPlayer.event.click)})),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},t.each(this.formats,(function(e,n){o.html.canPlay[n]=o.html[o.format[n].media].available&&""!==o.htmlElement[o.format[n].media].canPlayType(o.format[n].codec),o.aurora.canPlay[n]=t.inArray(n,o.aurora.formats)>-1,o.flash.canPlay[n]=o.format[n].flashCanPlay&&o.flash.available})),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,t.each(this.solutions,(function(e,n){if(0===e)o[n].desired=!0;else{var i=!1,r=!1;t.each(o.formats,(function(t,e){o[o.solutions[0]].canPlay[e]&&("video"===o.format[e].media?r=!0:i=!0)})),o[n].desired=o.require.audio&&!i||o.require.video&&!r}})),this.html.support={},this.aurora.support={},this.flash.support={},t.each(this.formats,(function(t,e){o.html.support[e]=o.html.canPlay[e]&&o.html.desired,o.aurora.support[e]=o.aurora.canPlay[e]&&o.aurora.desired,o.flash.support[e]=o.flash.canPlay[e]&&o.flash.desired})),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,t.each(this.solutions,(function(e,n){t.each(o.formats,(function(t,e){if(o[n].support[e])return o[n].used=!0,!1}))})),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:t.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SOLUTION,hint:t.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var n,i="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(t.jPlayer.browser.msie&&(Number(t.jPlayer.browser.version)<9||t.jPlayer.browser.documentMode<9)){var r='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>',a=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+i+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];n=document.createElement(r);for(var s=0;s<a.length;s++)n.appendChild(document.createElement(a[s]))}else{var l=function(t,e,o){var n=document.createElement("param");n.setAttribute("name",e),n.setAttribute("value",o),t.appendChild(n)};(n=document.createElement("object")).setAttribute("id",this.internal.flash.id),n.setAttribute("name",this.internal.flash.id),n.setAttribute("data",this.internal.flash.swf),n.setAttribute("type","application/x-shockwave-flash"),n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("tabindex","-1"),l(n,"flashvars",i),l(n,"allowscriptaccess","always"),l(n,"bgcolor",this.options.backgroundColor),l(n,"wmode",this.options.wmode)}this.element.append(n),this.internal.flash.jq=t(n)}this.html.used&&!this.flash.used?this.status.playbackRateEnabled=this._testPlaybackRate("audio"):this.status.playbackRateEnabled=!1,this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=t("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=t("#"+this.internal.video.id),this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):this.internal.video.jq.css({width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",(function(){o._trigger(t.jPlayer.event.click)})))),this.aurora.used,this.options.emulateHtml&&this._emulateHtmlBridge(),!this.html.used&&!this.aurora.used||this.flash.used||setTimeout((function(){o.internal.ready=!0,o.version.flash="n/a",o._trigger(t.jPlayer.event.repeat),o._trigger(t.jPlayer.event.ready)}),100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),t.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),t.each(this.css.jq,(function(t,e){e.length&&e.unbind(".jPlayer")})),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===t.jPlayer.focus&&(t.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},destroyRemoved:function(){var e=this;t.each(this.instances,(function(t,o){e.element!==o&&(o.data("jPlayer")||(o.jPlayer("destroy"),delete e.instances[t]))}))},enable:function(){},disable:function(){},_testCanPlayType:function(t){try{return t.canPlayType(this.format.mp3.codec),!0}catch(t){return!1}},_testPlaybackRate:function(t){var e;t="string"==typeof t?t:"audio",e=document.createElement(t);try{return"playbackRate"in e&&(e.playbackRate=.5,.5===e.playbackRate)}catch(t){return!1}},_uaBlocklist:function(e){var o=navigator.userAgent.toLowerCase(),n=!1;return t.each(e,(function(t,e){if(e&&e.test(o))return n=!0,!1})),n},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(e,o){var n=this;e.preload=this.options.preload,e.muted=this.options.muted,e.volume=this.options.volume,this.status.playbackRateEnabled&&(e.defaultPlaybackRate=this.options.defaultPlaybackRate,e.playbackRate=this.options.playbackRate),e.addEventListener("progress",(function(){o.gate&&(n.internal.cmdsIgnored&&this.readyState>0&&(n.internal.cmdsIgnored=!1),n._getHtmlStatus(e),n._updateInterface(),n._trigger(t.jPlayer.event.progress))}),!1),e.addEventListener("loadeddata",(function(){o.gate&&(n.androidFix.setMedia=!1,n.androidFix.play&&(n.androidFix.play=!1,n.play(n.androidFix.time)),n.androidFix.pause&&(n.androidFix.pause=!1,n.pause(n.androidFix.time)),n._trigger(t.jPlayer.event.loadeddata))}),!1),e.addEventListener("timeupdate",(function(){o.gate&&(n._getHtmlStatus(e),n._updateInterface(),n._trigger(t.jPlayer.event.timeupdate))}),!1),e.addEventListener("durationchange",(function(){o.gate&&(n._getHtmlStatus(e),n._updateInterface(),n._trigger(t.jPlayer.event.durationchange))}),!1),e.addEventListener("play",(function(){o.gate&&(n._updateButtons(!0),n._html_checkWaitForPlay(),n._trigger(t.jPlayer.event.play))}),!1),e.addEventListener("playing",(function(){o.gate&&(n._updateButtons(!0),n._seeked(),n._trigger(t.jPlayer.event.playing))}),!1),e.addEventListener("pause",(function(){o.gate&&(n._updateButtons(!1),n._trigger(t.jPlayer.event.pause))}),!1),e.addEventListener("waiting",(function(){o.gate&&(n._seeking(),n._trigger(t.jPlayer.event.waiting))}),!1),e.addEventListener("seeking",(function(){o.gate&&(n._seeking(),n._trigger(t.jPlayer.event.seeking))}),!1),e.addEventListener("seeked",(function(){o.gate&&(n._seeked(),n._trigger(t.jPlayer.event.seeked))}),!1),e.addEventListener("volumechange",(function(){o.gate&&(n.options.volume=e.volume,n.options.muted=e.muted,n._updateMute(),n._updateVolume(),n._trigger(t.jPlayer.event.volumechange))}),!1),e.addEventListener("ratechange",(function(){o.gate&&(n.options.defaultPlaybackRate=e.defaultPlaybackRate,n.options.playbackRate=e.playbackRate,n._updatePlaybackRate(),n._trigger(t.jPlayer.event.ratechange))}),!1),e.addEventListener("suspend",(function(){o.gate&&(n._seeked(),n._trigger(t.jPlayer.event.suspend))}),!1),e.addEventListener("ended",(function(){o.gate&&(t.jPlayer.browser.webkit||(n.htmlElement.media.currentTime=0),n.htmlElement.media.pause(),n._updateButtons(!1),n._getHtmlStatus(e,!0),n._updateInterface(),n._trigger(t.jPlayer.event.ended))}),!1),e.addEventListener("error",(function(){o.gate&&(n._updateButtons(!1),n._seeked(),n.status.srcSet&&(clearTimeout(n.internal.htmlDlyCmdId),n.status.waitForLoad=!0,n.status.waitForPlay=!0,n.status.video&&!n.status.nativeVideoControls&&n.internal.video.jq.css({width:"0px",height:"0px"}),n._validString(n.status.media.poster)&&!n.status.nativeVideoControls&&n.internal.poster.jq.show(),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.show(),n._error({type:t.jPlayer.error.URL,context:n.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))}),!1),t.each(t.jPlayer.htmlEvent,(function(i,r){e.addEventListener(this,(function(){o.gate&&n._trigger(t.jPlayer.event[r])}),!1)}))},_addAuroraEventListeners:function(e,o){var n=this;e.volume=100*this.options.volume,e.on("progress",(function(){o.gate&&(n.internal.cmdsIgnored&&this.readyState>0&&(n.internal.cmdsIgnored=!1),n._getAuroraStatus(e),n._updateInterface(),n._trigger(t.jPlayer.event.progress),e.duration>0&&n._trigger(t.jPlayer.event.timeupdate))}),!1),e.on("ready",(function(){o.gate&&n._trigger(t.jPlayer.event.loadeddata)}),!1),e.on("duration",(function(){o.gate&&(n._getAuroraStatus(e),n._updateInterface(),n._trigger(t.jPlayer.event.durationchange))}),!1),e.on("end",(function(){o.gate&&(n._updateButtons(!1),n._getAuroraStatus(e,!0),n._updateInterface(),n._trigger(t.jPlayer.event.ended))}),!1),e.on("error",(function(){o.gate&&(n._updateButtons(!1),n._seeked(),n.status.srcSet&&(n.status.waitForLoad=!0,n.status.waitForPlay=!0,n.status.video&&!n.status.nativeVideoControls&&n.internal.video.jq.css({width:"0px",height:"0px"}),n._validString(n.status.media.poster)&&!n.status.nativeVideoControls&&n.internal.poster.jq.show(),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.show(),n._error({type:t.jPlayer.error.URL,context:n.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))}),!1)},_getHtmlStatus:function(t,e){var o=0,n=0,i=0,r=0;isFinite(t.duration)&&(this.status.duration=t.duration),o=t.currentTime,n=this.status.duration>0?100*o/this.status.duration:0,"object"==typeof t.seekable&&t.seekable.length>0?(i=this.status.duration>0?100*t.seekable.end(t.seekable.length-1)/this.status.duration:100,r=this.status.duration>0?100*t.currentTime/t.seekable.end(t.seekable.length-1):0):(i=100,r=n),e&&(o=0,r=0,n=0),this.status.seekPercent=i,this.status.currentPercentRelative=r,this.status.currentPercentAbsolute=n,this.status.currentTime=o,this.status.remaining=this.status.duration-this.status.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=t.readyState,this.status.networkState=t.networkState,this.status.playbackRate=t.playbackRate,this.status.ended=t.ended},_getAuroraStatus:function(t,e){var o=0,n=0,i=0,r=0;this.status.duration=t.duration/1e3,o=t.currentTime/1e3,n=this.status.duration>0?100*o/this.status.duration:0,t.buffered>0?(i=this.status.duration>0?t.buffered*this.status.duration/this.status.duration:100,r=this.status.duration>0?o/(t.buffered*this.status.duration):0):(i=100,r=n),e&&(o=0,r=0,n=0),this.status.seekPercent=i,this.status.currentPercentRelative=r,this.status.currentPercentAbsolute=n,this.status.currentTime=o,this.status.remaining=this.status.duration-this.status.currentTime,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_resetStatus:function(){this.status=t.extend({},this.status,t.jPlayer.prototype.status)},_trigger:function(e,o,n){var i=t.Event(e);i.jPlayer={},i.jPlayer.version=t.extend({},this.version),i.jPlayer.options=t.extend(!0,{},this.options),i.jPlayer.status=t.extend(!0,{},this.status),i.jPlayer.html=t.extend(!0,{},this.html),i.jPlayer.aurora=t.extend(!0,{},this.aurora),i.jPlayer.flash=t.extend(!0,{},this.flash),o&&(i.jPlayer.error=t.extend({},o)),n&&(i.jPlayer.warning=t.extend({},n)),this.element.trigger(i)},jPlayerFlashEvent:function(e,o){if(e===t.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var n=this.status.currentTime,i=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),n>0&&(i?this.pause(n):this.play(n))}this._trigger(t.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=o.version,this.version.needFlash!==this.version.flash&&this._error({type:t.jPlayer.error.VERSION,context:this.version.flash,message:t.jPlayer.errorMsg.VERSION+this.version.flash,hint:t.jPlayer.errorHint.VERSION}),this._trigger(t.jPlayer.event.repeat),this._trigger(e);if(this.flash.gate)switch(e){case t.jPlayer.event.progress:case t.jPlayer.event.timeupdate:this._getFlashStatus(o),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(e);break;case t.jPlayer.event.pause:case t.jPlayer.event.ended:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.click:this._trigger(e);break;case t.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:t.jPlayer.error.URL,context:o.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL});break;case t.jPlayer.event.seeking:this._seeking(),this._trigger(e);break;case t.jPlayer.event.seeked:this._seeked(),this._trigger(e);break;case t.jPlayer.event.ready:break;default:this._trigger(e)}return!1},_getFlashStatus:function(t){this.status.seekPercent=t.seekPercent,this.status.currentPercentRelative=t.currentPercentRelative,this.status.currentPercentAbsolute=t.currentPercentAbsolute,this.status.currentTime=t.currentTime,this.status.duration=t.duration,this.status.remaining=t.duration-t.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(t){t===e?t=!this.status.paused:this.status.paused=!t,t?this.addStateClass("playing"):this.removeStateClass("playing"),!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen"),this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped"),this.css.jq.play.length&&this.css.jq.pause.length&&(t?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%")),this.css.jq.currentTime.length&&this._convertTime(this.status.currentTime)!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime));var t="",e=this.status.duration,o=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?t=this.status.media.duration:("number"==typeof this.status.media.duration&&(o=(e=this.status.media.duration)-this.status.currentTime),t=this.options.remainingDuration?(o>0?"-":"")+this._convertTime(o):this._convertTime(e)),t!==this.css.jq.duration.text()&&this.css.jq.duration.text(t))},_convertTime:o.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg"),this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg"),this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.aurora.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.aurora.active=!1,this.flash.active=!1},_escapeHtml:function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(t){var e=document.createElement("div");return e.innerHTML='<a href="'+this._escapeHtml(t)+'">x</a>',e.firstChild.href},_absoluteMediaUrls:function(e){var o=this;return t.each(e,(function(t,n){n&&o.format[t]&&"data:"!==n.substr(0,5)&&(e[t]=o._qualifyURL(n))})),e},addStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[t])},removeStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[t])},setMedia:function(e){var o=this,n=!1,i=this.status.media.poster!==e.poster;this._resetMedia(),this._resetGate(),this._resetActive(),this.androidFix.setMedia=!1,this.androidFix.play=!1,this.androidFix.pause=!1,e=this._absoluteMediaUrls(e),t.each(this.formats,(function(i,r){var a="video"===o.format[r].media;if(t.each(o.solutions,(function(i,s){if(o[s].support[r]&&o._validString(e[r])){var l="html"===s,c="aurora"===s;return a?(l?(o.html.video.gate=!0,o._html_setVideo(e),o.html.active=!0):(o.flash.gate=!0,o._flash_setVideo(e),o.flash.active=!0),o.css.jq.videoPlay.length&&o.css.jq.videoPlay.show(),o.status.video=!0):(l?(o.html.audio.gate=!0,o._html_setAudio(e),o.html.active=!0,t.jPlayer.platform.android&&(o.androidFix.setMedia=!0)):c?(o.aurora.gate=!0,o._aurora_setAudio(e),o.aurora.active=!0):(o.flash.gate=!0,o._flash_setAudio(e),o.flash.active=!0),o.css.jq.videoPlay.length&&o.css.jq.videoPlay.hide(),o.status.video=!1),n=!0,!1}})),n)return!1})),n?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(e.poster)&&(i?this.htmlElement.poster.src=e.poster:this.internal.poster.jq.show()),"string"==typeof e.title&&(this.css.jq.title.length&&this.css.jq.title.html(e.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",e.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",e.title)),this.status.srcSet=!0,this.status.media=t.extend({},e),this._updateButtons(!1),this._updateInterface(),this._trigger(t.jPlayer.event.setmedia)):this._error({type:t.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SUPPORT,hint:t.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(t.jPlayer.focus=this)},play:function(t){"object"==typeof t&&this.options.useStateClassSkin&&!this.status.paused?this.pause(t):(t="number"==typeof t?t:NaN,this.status.srcSet?(this.focus(),this.html.active?this._html_play(t):this.aurora.active?this._aurora_play(t):this.flash.active&&this._flash_play(t)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(t){t="number"==typeof t?t:NaN,this.status.srcSet?this.html.active?this._html_pause(t):this.aurora.active?this._aurora_pause(t):this.flash.active&&this._flash_pause(t):this._urlNotSetError("pause")},tellOthers:function(e,o){var n=this,i="function"==typeof o,r=Array.prototype.slice.call(arguments);"string"==typeof e&&(i&&r.splice(1,1),t.jPlayer.prototype.destroyRemoved(),t.each(this.instances,(function(){n.element!==this&&(i&&!o.call(this.data("jPlayer"),n)||this.jPlayer.apply(this,r))})))},pauseOthers:function(t){this.tellOthers("pause",(function(){return this.status.srcSet}),t)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(t){t=this._limitValue(t,0,100),this.status.srcSet?this.html.active?this._html_playHead(t):this.aurora.active?this._aurora_playHead(t):this.flash.active&&this._flash_playHead(t):this._urlNotSetError("playHead")},_muted:function(t){this.mutedWorker(t),this.options.globalVolume&&this.tellOthers("mutedWorker",(function(){return this.options.globalVolume}),t)},mutedWorker:function(e){this.options.muted=e,this.html.used&&this._html_setProperty("muted",e),this.aurora.used&&this._aurora_mute(e),this.flash.used&&this._flash_mute(e),this.html.video.gate||this.html.audio.gate||(this._updateMute(e),this._updateVolume(this.options.volume),this._trigger(t.jPlayer.event.volumechange))},mute:function(t){"object"==typeof t&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(t=t===e||!!t,this._muted(t))},unmute:function(t){t=t===e||!!t,this._muted(!t)},_updateMute:function(t){t===e&&(t=this.options.muted),t?this.addStateClass("muted"):this.removeStateClass("muted"),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):t?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(t){this.volumeWorker(t),this.options.globalVolume&&this.tellOthers("volumeWorker",(function(){return this.options.globalVolume}),t)},volumeWorker:function(e){e=this._limitValue(e,0,1),this.options.volume=e,this.html.used&&this._html_setProperty("volume",e),this.aurora.used&&this._aurora_volume(e),this.flash.used&&this._flash_volume(e),this.html.video.gate||this.html.audio.gate||(this._updateVolume(e),this._trigger(t.jPlayer.event.volumechange))},volumeBar:function(e){if(this.css.jq.volumeBar.length){var o=t(e.currentTarget),n=o.offset(),i=e.pageX-n.left,r=o.width(),a=o.height()-e.pageY+n.top,s=o.height();this.options.verticalVolume?this.volume(a/s):this.volume(i/r)}this.options.muted&&this._muted(!1)},_updateVolume:function(t){t===e&&(t=this.options.volume),t=this.options.muted?0:t,this.status.noVolume?(this.addStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*t+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(e){var o=this;this.options.cssSelectorAncestor=e,this._removeUiClass(),this.ancestorJq=e?t(e):[],e&&1!==this.ancestorJq.length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),t.each(this.options.cssSelector,(function(t,e){o._cssSelector(t,e)})),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(e,o){var n=this;"string"==typeof o?t.jPlayer.prototype.options.cssSelector[e]?(this.css.jq[e]&&this.css.jq[e].length&&this.css.jq[e].unbind(".jPlayer"),this.options.cssSelector[e]=o,this.css.cs[e]=this.options.cssSelectorAncestor+" "+o,this.css.jq[e]=o?t(this.css.cs[e]):[],this.css.jq[e].length&&this[e]&&this.css.jq[e].bind("click.jPlayer",(function(o){o.preventDefault(),n[e](o),n.options.autoBlur?t(this).blur():t(this).focus()})),o&&1!==this.css.jq[e].length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[e],message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[e].length+" found for "+e+" method.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT})):this._warning({type:t.jPlayer.warning.CSS_SELECTOR_METHOD,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:t.jPlayer.warningHint.CSS_SELECTOR_METHOD}):this._warning({type:t.jPlayer.warning.CSS_SELECTOR_STRING,context:o,message:t.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:t.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(t){this.options.toggleDuration&&(this.options.captureDuration&&t.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(e){if(this.css.jq.seekBar.length){var o=t(e.currentTarget),n=o.offset(),i=100*(e.pageX-n.left)/o.width();this.playHead(i)}},playbackRate:function(t){this._setOption("playbackRate",t)},playbackRateBar:function(e){if(this.css.jq.playbackRateBar.length){var o,n=t(e.currentTarget),i=n.offset(),r=e.pageX-i.left,a=n.width(),s=n.height()-e.pageY+i.top,l=n.height();o=(this.options.verticalPlaybackRate?s/l:r/a)*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate,this.playbackRate(o)}},_updatePlaybackRate:function(){var t=(this.options.playbackRate-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*t+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(t){"object"==typeof t&&this.options.useStateClassSkin&&this.options.loop?this._loop(!1):this._loop(!0)},repeatOff:function(){this._loop(!1)},_loop:function(e){this.options.loop!==e&&(this.options.loop=e,this._updateButtons(),this._trigger(t.jPlayer.event.repeat))},option:function(o,n){var i=o;if(0===arguments.length)return t.extend(!0,{},this.options);if("string"==typeof o){var r=o.split(".");if(n===e){for(var a=t.extend(!0,{},this.options),s=0;s<r.length;s++){if(a[r[s]]===e)return this._warning({type:t.jPlayer.warning.OPTION_KEY,context:o,message:t.jPlayer.warningMsg.OPTION_KEY,hint:t.jPlayer.warningHint.OPTION_KEY}),e;a=a[r[s]]}return a}for(var l=i={},c=0;c<r.length;c++)c<r.length-1?(l[r[c]]={},l=l[r[c]]):l[r[c]]=n}return this._setOptions(i),this},_setOptions:function(e){var o=this;return t.each(e,(function(t,e){o._setOption(t,e)})),this},_setOption:function(e,o){var n=this;switch(e){case"volume":this.volume(o);break;case"muted":this._muted(o);break;case"globalVolume":case"toggleDuration":case"audioFullScreen":case"autoBlur":this.options[e]=o;break;case"cssSelectorAncestor":this._cssSelectorAncestor(o);break;case"cssSelector":t.each(o,(function(t,e){n._cssSelector(t,e)}));break;case"playbackRate":this.options[e]=o=this._limitValue(o,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",o),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[e]=o=this._limitValue(o,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",o),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[e]=o=this._limitValue(o,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[e]=o=this._limitValue(o,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[e]!==o){var i=t.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!i||i&&!this.status.waitForPlay)&&(i||(this.options[e]=o),o?this._requestFullscreen():this._exitFullscreen(),i||this._setOption("fullWindow",o))}break;case"fullWindow":this.options[e]!==o&&(this._removeUiClass(),this.options[e]=o,this._refreshSize());break;case"size":this.options.fullWindow||this.options[e].cssClass===o.cssClass||this._removeUiClass(),this.options[e]=t.extend({},this.options[e],o),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[e].cssClass!==o.cssClass&&this._removeUiClass(),this.options[e]=t.extend({},this.options[e],o),this._refreshSize();break;case"autohide":this.options[e]=t.extend({},this.options[e],o),this._updateAutohide();break;case"loop":this._loop(o);break;case"remainingDuration":this.options[e]=o,this._updateInterface();break;case"nativeVideoControls":this.options[e]=t.extend({},this.options[e],o),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[e]=t.extend({},this.options[e],o),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[e]=t.extend({},this.options[e],o),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[e]!==o&&(this.options[e]=o,o?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[e]=t.extend({},this.options[e],o);break;case"keyEnabled":this.options[e]=o,o||this!==t.jPlayer.focus||(t.jPlayer.focus=null);break;case"keyBindings":this.options[e]=t.extend(!0,{},this.options[e],o)}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(t.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var t=this,e=".jPlayerAutohide",o="mousemove.jPlayer"+e,n=function(e){var o,n,i=!1;void 0!==t.internal.mouse?(o=t.internal.mouse.x-e.pageX,n=t.internal.mouse.y-e.pageY,i=Math.floor(o)>0||Math.floor(n)>0):i=!0,t.internal.mouse={x:e.pageX,y:e.pageY},i&&t.css.jq.gui.fadeIn(t.options.autohide.fadeIn,(function(){clearTimeout(t.internal.autohideId),t.internal.autohideId=setTimeout((function(){t.css.jq.gui.fadeOut(t.options.autohide.fadeOut)}),t.options.autohide.hold)}))};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),delete this.internal.mouse,this.element.unbind(e),this.css.jq.gui.unbind(e),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(o,n),this.css.jq.gui.bind(o,n),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(t){"object"==typeof t&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var e=this,o=t.jPlayer.nativeFeatures.fullscreen;o.api.fullscreenEnabled&&o.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){e._fullscreenchange()}),document.addEventListener(o.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var e=t.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(e.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!t.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var e=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],o=t.jPlayer.nativeFeatures.fullscreen;o.used.webkitVideo&&(e=this.htmlElement.video),o.api.fullscreenEnabled&&o.api.requestFullscreen(e)},_exitFullscreen:function(){var e,o=t.jPlayer.nativeFeatures.fullscreen;o.used.webkitVideo&&(e=this.htmlElement.video),o.api.fullscreenEnabled&&o.api.exitFullscreen(e)},_html_initMedia:function(e){var o=t(this.htmlElement.media).empty();t.each(e.track||[],(function(t,e){var n=document.createElement("track");n.setAttribute("kind",e.kind?e.kind:""),n.setAttribute("src",e.src?e.src:""),n.setAttribute("srclang",e.srclang?e.srclang:""),n.setAttribute("label",e.label?e.label:""),e.def&&n.setAttribute("default",e.def),o.append(n)})),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(t.jPlayer.event.timeupdate)},_html_setFormat:function(e){var o=this;t.each(this.formats,(function(t,n){if(o.html.support[n]&&e[n])return o.status.src=e[n],o.status.format[n]=!0,o.status.formatType=n,!1}))},_html_setAudio:function(t){this._html_setFormat(t),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(t)},_html_setVideo:function(t){this._html_setFormat(t),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(t.poster)?t.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(t)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(t){var e=this,o=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=t;else if(isNaN(t))o.play();else{this.internal.cmdsIgnored&&o.play();try{if(o.seekable&&!("object"==typeof o.seekable&&o.seekable.length>0))throw 1;o.currentTime=t,o.play()}catch(o){return void(this.internal.htmlDlyCmdId=setTimeout((function(){e.play(t)}),250))}}this._html_checkWaitForPlay()},_html_pause:function(t){var e=this,o=this.htmlElement.media;if(this.androidFix.play=!1,t>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),o.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=t;else if(!isNaN(t))try{if(o.seekable&&!("object"==typeof o.seekable&&o.seekable.length>0))throw 1;o.currentTime=t}catch(o){return void(this.internal.htmlDlyCmdId=setTimeout((function(){e.pause(t)}),250))}t>0&&this._html_checkWaitForPlay()},_html_playHead:function(t){var e=this,o=this.htmlElement.media;this._html_load();try{if("object"==typeof o.seekable&&o.seekable.length>0)o.currentTime=t*o.seekable.end(o.seekable.length-1)/100;else{if(!(o.duration>0)||isNaN(o.duration))throw"e";o.currentTime=t*o.duration/100}}catch(o){return void(this.internal.htmlDlyCmdId=setTimeout((function(){e.playHead(t)}),250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(t,e){this.html.audio.available&&(this.htmlElement.audio[t]=e),this.html.video.available&&(this.htmlElement.video[t]=e)},_aurora_setAudio:function(e){var o=this;t.each(this.formats,(function(t,n){if(o.aurora.support[n]&&e[n])return o.status.src=e[n],o.status.format[n]=!0,o.status.formatType=n,!1})),this.aurora.player=new window.AV.Player.fromURL(this.status.src),this._addAuroraEventListeners(this.aurora.player,this.aurora),"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(e){this.status.waitForLoad||isNaN(e)||this.aurora.player.seek(e),this.aurora.player.playing||this.aurora.player.play(),this.status.waitForLoad=!1,this._aurora_checkWaitForPlay(),this._updateButtons(!0),this._trigger(t.jPlayer.event.play)},_aurora_pause:function(e){isNaN(e)||this.aurora.player.seek(1e3*e),this.aurora.player.pause(),e>0&&this._aurora_checkWaitForPlay(),this._updateButtons(!1),this._trigger(t.jPlayer.event.pause)},_aurora_playHead:function(t){this.aurora.player.duration>0&&this.aurora.player.seek(t*this.aurora.player.duration/100),this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(t){this.aurora.player.volume=100*t},_aurora_mute:function(t){t?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume,this.aurora.properties.muted=t},_flash_setAudio:function(e){var o=this;try{t.each(this.formats,(function(t,n){if(o.flash.support[n]&&e[n]){switch(n){case"m4a":case"fla":o._getMovie().fl_setAudio_m4a(e[n]);break;case"mp3":o._getMovie().fl_setAudio_mp3(e[n]);break;case"rtmpa":o._getMovie().fl_setAudio_rtmp(e[n])}return o.status.src=e[n],o.status.format[n]=!0,o.status.formatType=n,!1}})),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(t){this._flashError(t)}},_flash_setVideo:function(e){var o=this;try{t.each(this.formats,(function(t,n){if(o.flash.support[n]&&e[n]){switch(n){case"m4v":case"flv":o._getMovie().fl_setVideo_m4v(e[n]);break;case"rtmpv":o._getMovie().fl_setVideo_rtmp(e[n])}return o.status.src=e[n],o.status.format[n]=!0,o.status.formatType=n,!1}})),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(t){this._flashError(t)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(t){this._flashError(t)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(t){this._flashError(t)}this.status.waitForLoad=!1},_flash_play:function(t){try{this._getMovie().fl_play(t)}catch(t){this._flashError(t)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(t){try{this._getMovie().fl_pause(t)}catch(t){this._flashError(t)}t>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(t){try{this._getMovie().fl_play_head(t)}catch(t){this._flashError(t)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(t){try{this._getMovie().fl_volume(t)}catch(t){this._flashError(t)}},_flash_mute:function(t){try{this._getMovie().fl_mute(t)}catch(t){this._flashError(t)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var t,e=0;if(window.ActiveXObject)try{if(t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var o=t.GetVariable("$version");o&&(o=o.split(" ")[1].split(","),e=parseInt(o[0],10)+"."+parseInt(o[1],10))}}catch(t){}else navigator.plugins&&navigator.mimeTypes.length>0&&(t=navigator.plugins["Shockwave Flash"])&&(e=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1"));return 1*e},_checkForFlash:function(t){var e=!1;return this._getFlashPluginVersion()>=t&&(e=!0),e},_validString:function(t){return t&&"string"==typeof t},_limitValue:function(t,e,o){return t<e?e:t>o?o:t},_urlNotSetError:function(e){this._error({type:t.jPlayer.error.URL_NOT_SET,context:e,message:t.jPlayer.errorMsg.URL_NOT_SET,hint:t.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(e){var o;o=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:t.jPlayer.error[o],context:this.internal.flash.swf,message:t.jPlayer.errorMsg[o]+e.message,hint:t.jPlayer.errorHint[o]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(e){this._trigger(t.jPlayer.event.error,e),this.options.errorAlerts&&this._alert("Error!"+(e.message?"\n"+e.message:"")+(e.hint?"\n"+e.hint:"")+"\nContext: "+e.context)},_warning:function(o){this._trigger(t.jPlayer.event.warning,e,o),this.options.warningAlerts&&this._alert("Warning!"+(o.message?"\n"+o.message:"")+(o.hint?"\n"+o.hint:"")+"\nContext: "+o.context)},_alert:function(t){var e="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+t;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(e):alert(e)},_emulateHtmlBridge:function(){var e=this;t.each(t.jPlayer.emulateMethods.split(/\s+/g),(function(t,o){e.internal.domNode[o]=function(t){e[o](t)}})),t.each(t.jPlayer.event,(function(o,n){var i=!0;t.each(t.jPlayer.reservedEvent.split(/\s+/g),(function(t,e){if(e===o)return i=!1,!1})),i&&e.element.bind(n+".jPlayer.jPlayerHtml",(function(){e._emulateHtmlUpdate();var t=document.createEvent("Event");t.initEvent(o,!1,!0),e.internal.domNode.dispatchEvent(t)}))}))},_emulateHtmlUpdate:function(){var e=this;t.each(t.jPlayer.emulateStatus.split(/\s+/g),(function(t,o){e.internal.domNode[o]=e.status[o]})),t.each(t.jPlayer.emulateOptions.split(/\s+/g),(function(t,o){e.internal.domNode[o]=e.options[o]}))},_destroyHtmlBridge:function(){var e=this;this.element.unbind(".jPlayerHtml");var o=t.jPlayer.emulateMethods+" "+t.jPlayer.emulateStatus+" "+t.jPlayer.emulateOptions;t.each(o.split(/\s+/g),(function(t,o){delete e.internal.domNode[o]}))}},t.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},t.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+t.jPlayer.prototype.version.script+" needs Jplayer.swf version "+t.jPlayer.prototype.version.needFlash+" but found "},t.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},t.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},t.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},t.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}},"function"==typeof window.define&&window.define.amd?window.define(["jquery"],e):"object"==typeof exports?e(require("jquery")):t.jQuery?e(t.jQuery):e(t.Zepto)}},ui.prototype={init:function(){var t=this;(t.dom.videoBox||t.dom.videoWin).on("contextmenu",(function(t){return!1})),t.dom.videoWin.jPlayer&&t.dom.videoWin.jPlayer({ready:function(){$(this).jPlayer("setMedia",{m4v:t.op.videoPath})},error:function(e){t.op.handleError.call(t,e)},verticalVolume:t.op.verticalVolume,loop:t.op.loop,swfPath:t.op.swfPath,solution:t.op.solution,supplied:t.op.supplied,size:t.op.size,preload:"none",useStateClassSkin:!0,autoBlur:!1,smoothPlayBar:!0,keyEnabled:!0,remainingDuration:!1,toggleDuration:!0})},acts:function(){var t=this;t.dom.volumeCto.mouseover((function(){t.dom.volumnBarWarp.show(),t.dom.volumnMute.addClass("active")})).mouseout((function(){t.dom.volumnBarWarp.hide(),t.dom.volumnMute.removeClass("active")})),t.dom.volumnMax.click((function(t){$(this).addClass("active")})),t.dom.repeatBtn.click((function(){$(this).toggleClass("active")})),t.dom.volumnBar.click((function(){t.dom.volumnMax.removeClass("active")})),t.dom.closeBtn.click((function(){t.dom.stateDialog.hide()})),t.dom.reloadBtn.click((function(){t.state.errored?(++t.state.reloadTimes>=5?location.reload():t.play(),t.hideTips()):t.state.finished&&(t.hideTips(),t.play())}))},show:function(t){t?this.dom.videoBox.show():this.dom.videoBox.hide()},showTips:function(t){var e=this,o=t.title,n=t.btn,i=t.cls;e.dom.tipsTitle,o&&e.dom.tipsTitle.html(o),n&&e.dom.tipsBtn.show(),!1===n&&e.dom.tipsBtn.removeClass("jp-btn-reload"),i&&e.dom.tipsLogo.removeClass().addClass("jp-state-logo").addClass(i),e.dom.networkDialog.show()},hideTips:function(){this.dom.networkDialog.hide()},play:function(t){var e=this;switch(t){case"play":default:e.dom.videoWin.jPlayer("play");break;case"stop":e.dom.videoWin.jPlayer("stop");break;case"repeat":e.dom.repeatBtn.trigger("click")}},handleError:function(t){console.log(t.jPlayer.error)}};class di{constructor(){this.vrBox=$("#bigImg .vr-box"),this.vrLayer=$("#bigImg .vr-layer"),this.playerBtn=$("#jPlayerBtn"),this.config={showImg:$("#smainPic"),showDesc:$("#sImgNu"),picDescShow:$("#smallPicDescShow"),picDescType:$("#smallPicDescType"),picDesc:$("#smallPicDesc"),pre:$("#slbt"),next:$("#srbt"),images:$("#leftImg"),spacing:10,loading:$("#loadingSmall"),selectPosition:2,showlist:4,isBigPic:!1,time:300},this.bigConfig={showImg:$("#mainPic"),showDesc:$("#viewNum"),picDescShow:$("#bigPicDescShow"),picDescType:$("#bigPicDescType"),picDesc:$("#bigPicDescWord"),pre:$("#blbt"),next:$("#brbt"),images:$("#smallPic"),spacing:10,loading:$("#loadingBig"),selectPosition:2,showlist:6,isBigPic:!0,time:300},this.jpContainer1=$("#jp_container_1"),this.bind(),this.iconStatusInit(),this.player(),this.vrInit()}bind(){let t=this;ci(t.config);let e=ci(t.bigConfig);$("#bigImg").bind("click",(function(){let o=$("#leftImg").find("li.actives").find(".icon-player").length>0,n=t.jpContainer1.length,i=$("#leftImg li").eq(0).hasClass("actives");if(!(o||n>0&&i))return e.setPage($(this).find("img").data("index")),t.middleposition($(".piclayer"),$(".picmask")),!1})),$("#generalType").on("click","li",(o=>{if(!$("#generalType").hasClass("default")&&null!=$(this).data("index"))return e.setPage($(this).data("index")),t.middleposition($(".piclayer"),$(".picmask")),!1})),$("#housePicList").on("click","li",(function(o){if("viewMorePic"!=o.target.parentNode.id&&!$("#housePicList").hasClass("default"))return e.setPage($(this).data("index")),t.middleposition($(".piclayer"),$(".picmask")),!1})),$("body").on("click",".picclose",(()=>($(".piclayer,.picmask").hide(),!1))),$(".picDescMask").bind("click",(()=>($(this).hasClass("on")?($(this).siblings(".picDescLayer").removeClass("on").addClass("off"),$(this).removeClass("on").addClass("off"),window.clickLog("from=fcpc_detail_esf_"+t.city+"_miaoshu_close")):($(this).siblings(".picDescLayer").removeClass("off").addClass("on"),$(this).removeClass("off").addClass("on"),window.clickLog("from=fcpc_detail_esf_"+t.city+"_miaoshu_open")),!1))),t.jpContainer1.length>0&&$(".picDescLayer,.picDescMask").hide()}middleposition(t,e){let o=e,n=o.width(),i=o.height()>$(window).height()?$(window).height():o.height(),r=$("body").width(),a=($(window).height()-i)/2,s=$(window).scrollTop(),l=(r-n)/2,c=a+s;t.show(),o.css({left:l,top:c}).show();let u=.75*$(window).height(),d=$(".picmask").find("#mainPic").parent().height(),h=((d>u?u:d)-$(".picmask").find("#mainPic").height())/2;$(".picmask").find("#mainPic").css("marginTop",h).show(),$(window).scroll((()=>{let t=$(window).scrollTop(),e=a+t;o.css({position:"absolute",top:e})}))}videoToggle(t){window.videoPlayerEnter&&("on"==t?(window.videoPlayerEnter.show(!0),setTimeout((function(){window.videoPlayerEnter.play("play")}),200)):setTimeout((function(){window.videoPlayerEnter.show(!1),window.videoPlayerEnter.play("stop")}),200))}player(){let t=this;t.jpContainer1&&t.jpContainer1.length>0&&(window.clickLog("from=200000000472000100000001"),window.videoPlayerEnter=new ui({container:"#jp_container_1",videoPath:t.jpContainer1.data("src"),swfPath:"https://j1.58cdn.com.cn/fangrs/pc-site/pages/esf",solution:"html,flash",size:{width:"464px",height:"348px",cssClass:"jp-video-400p"},handleError:t=>{console.log(t.jPlayer.error)}}),window.videoPlayerEnter.dom.videoWin.on($.jPlayer.event.ended,(t=>{window.clickLog("from=200000000474000100000100")})),$("#leftImg li").eq(0).find(".icon-player").length>0&&this.playerBtn.show(),$("#jPlayerBtn").on("click",(e=>{e.stopPropagation(),t.videoToggle("on"),$("#jPlayerBtn,#smainPic").hide(),window.clickLog("from=200000000473000100000010")})))}vrInit(){this.vrBox.length>0&&this.vrLayer.on("click",(t=>{t.stopPropagation(),this.vrLayer.hide()}))}iconStatusInit(){$("#leftImg li,#srbt,#slbt").on("click",(()=>{this.videoToggle();let t=$("#leftImg").find("li.actives");t.find(".vr-icon-box").length>0?(this.playerBtn.hide(),this.vrBox.show(),this.vrLayer.show()):t.find(".icon-player").length>0?(this.playerBtn.show(),this.vrBox.hide(),this.vrLayer.show()):(this.vrBox.hide(),this.playerBtn.hide(),this.vrLayer.show())}))}}class hi{constructor(t){0===$(".house-chat-cover-container").length||(this.config={infoID:t.infoid,list_name:t.catentry.listname,local_name:$.isArray(t.locallist)?t.locallist[0].listname:t.locallist.listname,topcate:t.rootcatentry.listname,full_path:t.rootcatentry.dispid+","+t.catentry.dispid,pid:798,jumptype:"native",wlmode:"qr",pagetype:"detail",meta_url:"https://apphouse.58.com/api/list",isFinish:!0},t.wechatQrcodeUrl?this.initJJRCheckPhone(t):this.initCheckphone(),this.bind())}bind(){let t=$(".phone-qr-tooltips"),e=$(".house-chat-cover-wrapper"),o=t.css("animation-name");t.length&&e.hover((function(){t.css({"animation-name":o}).show()}),(function(){t.css({"animation-name":"none"}).stop().fadeOut(100)}))}initJJRCheckPhone(t){let e=t.wechatQrcodeUrl.split("?"),o=e[1].split("&"),n=e[0]+o[0].split("=")[1]+"/"+o[1].split("=")[1]+"/";this.initQRCode(n)}initCheckphone(){let t=this,e=t.initUrl();si.jsonp(window.location.protocol+"//houserent.58.com/tinyurl/api_get_tinyurl",{url:encodeURIComponent(e),successCode:64330,failCode:64331},"jsoncallback").then((e=>{0==e.code&&e.data&&"string"==typeof e.data&&t.initQRCode(e.data,!0)}))}initUrl(){let t=this,e=window.location.protocol+"//app.58.com/api/windex/scandetail/car/"+t.config.infoID+"/?",o=[];for(let e in t.config)t.config.hasOwnProperty(e)&&t.config[e]&&o.push(`${e}=${t.config[e]}`);return e+=o.join("&"),e}initQRCode(t,e){!e&&this.checkQRCode()||$(".phone-qr-code").empty().qrcode({render:!window.ActiveXObject||document.documentMode>9?"canvas":"table",text:t,width:170,height:170})}checkQRCode(){return $(".phone-qr-code").children().length>0}}class pi{constructor(t){this.init(t)}init(t){let e=this,o=t.locallist,n=o[0];if(o&&n){let o=t.sanWangBrokerId;o&&e.fetchData(o,(t=>{if(t){let o=t.businessLicenseId,n=t.businessLicenseImage;$(".employment-num").length>0&&e.getTemplate({code:o,imgURL:n})}}))}}fetchData(t,e){si.jsonp("//rentercenter.58.com/broker/api_get_cert_company",{brokerId:t,successCode:64332,failCode:64333},"jsoncallback").then((t=>{t&&0===t.code&&t.data&&e(t.data)}))}getTemplate(t){if(t.code){let e=`<span class="name">从业人员编号</span> \n                 <span class="code">${t.code}</span>\n                `;$(".employment-num").append(e)}}}class fi{constructor(){this._localInfoType=[],this.render(),this.jumpDitu()}render(){$("#viewMorePic").bind("click",(function(){$(this).siblings("li").removeClass("hide"),$(this).remove()})),$("#soso_tab").click((function(){$(this).addClass("active").siblings().removeClass("active"),$("#soso_map").addClass("active").siblings().removeClass("active")})),$("#baidu_tab").click((function(){$(this).addClass("active").siblings().removeClass("active"),$("#baidu_map").addClass("active").siblings().removeClass("active")}));var t=function(){let t=this;var e,o,n,i,r,a={name:window.____json4fe.xiaoqu.name},s=function(t){r=t;var e=t.getStart(),o=t.getEnd();if(!e||!o)return $("#map_search_result").hide(),void alert("查询不到线路，请重新输入公交/地铁站点名称。");e=e.title,o=o.title,window._setCookie("route_from",e);var n=function(t){var e=t.length,o=[0,1,2];if(e>1&&t[0]._duration>t[1]._duration){var n=o[1];o[1]=o[0],o[0]=n}return e>2&&(t[1]._duration>t[2]._duration&&(n=o[2],o[2]=o[1],o[1]=n),t[0]._duration>t[1]._duration&&(n=o[1],o[1]=o[0],o[0]=n)),o}(t._plans),i=t._plans.length;i=i<=3||3;for(var a="",s="",l=0;l<i;l++){var c=t.getPlan(n[l]);if(c){for(var u=c._lines,d="",h=0;h<u.length;h++){var p=u[h].title;d+=p.substr(0,p.indexOf("(")),h!=u.length-1&&(d+=" → ")}var f=c.getDistance(),m=c.getDuration(),g=c.getDescription().split("，"),y="",v=!0;for(h=0;h<g.length;h++){var w=!1;"到达"==g[h].substring(0,2)&&(w=!0),v&&(y+="<p>",v=!1),y+=g[h],w||(y+="，"),w&&(y+="</p>",v=!0)}var b="";0==l&&(b=" route_sel",s=y),a+="<div onclick='fe58.map.changeroute(this);' class='transit_list"+b+"'><div class='lefttop'>"+(l+1)+"</div><div class='route' start='"+e+"' end='"+o+"' desc='"+y+"'>"+d+"</div><div class='distance_time'>全程约"+m+" / 共"+f+"</div></div>"}}a+="<div class='route_detail'><div class='route_start'>"+e+"</div>"+s+"<div class='route_end'>"+o+"</div></div>";var _=$("#map_search_result");_.html(a),$(".transit_list").eq(0).after($(".route_detail")),_.show()},l=function(t){var e=t.getStart(),o=t.getEnd();if(!e||!o)return $("#map_search_result").hide(),void alert("查询不到线路，请重新输入起点名称。");$("#map_search_result").show()},c=function(){var t=$("#map_route_from"),o=t.val(),i=$("#map_route_to").val();if(!o||!i)return alert("请先输入起点。"),void t.focus();$("#map_route_bus").attr("checked")?(e.clearOverlays(),new window.BMap.TransitRoute(e,{renderOptions:{map:e},policy:window.BMAP_TRANSIT_POLICY_LEAST_TIME,onSearchComplete:s}).search(o,n)):(e.clearOverlays(),new window.BMap.DrivingRoute(e,{renderOptions:{panel:"map_search_result",map:e},policy:1,onSearchComplete:l}).search(o,i))},u=function(i){t._localInfoType={},n=new window.BMap.Point(a.lon,a.lat),e.centerAndZoom(n,16),e.addControl(new window.BMap.NavigationControl);var r=function(t,o,n,i){var r=new window.BMap.Point(n,i),a=new window.BMap.Icon(t,new window.BMap.Size(20,20)),s=new window.BMap.Label(o,{offset:new window.BMap.Size(20,0)}),l=new window.BMap.Marker(r,{icon:a});return l.setLabel(s),e.addOverlay(l),l}(document.location.protocol+"//img.58cdn.com.cn/images/5_0/xq/markerred.gif",a.name,a.lon,a.lat);r.disableMassClear(),o=new window.BMap.Circle(n,1500,{fillColor:"#A6A6A6",strokeWeight:1,fillOpacity:.3,strokeOpacity:.3});var s=new RegExp("(?:;)?route_from=([^;]*);?").test(document.cookie)?decodeURIComponent(RegExp.$1):null;s&&$("#map_route_from").val(s),$("#map_route_to").val(a.name),$("#map_route_from").keydown((function(t){13==t.keyCode&&c()})),$("#map_route_search").click(c),function(){var t=window.____json4fe.locallist[0].listname,e=[{keyword:"公交",value:"gongjiao",address:1,link:0,icon:document.location.protocol+"//img.58cdn.com.cn/ui8/house/detail/images/ditu_gj@2x.png",clickCode:"from=fcpc_detail_"+t+"_xiaoquxq_ditu_zhoubian_bus"},{keyword:"地铁",value:"ditie",address:0,link:0,icon:document.location.protocol+"//img.58cdn.com.cn/ui8/house/detail/images/ditu_dt@2x.png",clickCode:"from=fcpc_detail_"+t+"_xiaoquxq_ditu_zhoubian_subway"},{keyword:"超市",value:"chaoshi",address:0,link:1,icon:document.location.protocol+"//img.58cdn.com.cn/ui8/house/detail/images/ditu_gw@2x.png",clickCode:"from=fcpc_detail_bj_xiaoquxq_ditu_zhoubian_shopping"},{keyword:"餐饮",value:"canyin",address:0,link:1,icon:document.location.protocol+"//img.58cdn.com.cn/ui8/house/detail/images/ditu_cy@2x.png",clickCode:"from=fcpc_detail_"+t+"_xiaoquxq_ditu_zhoubian_restaurant"},{keyword:"银行",value:"yinhang",address:0,link:1,icon:document.location.protocol+"//img.58cdn.com.cn/ui8/house/detail/images/ditu_yh@2x.png",clickCode:"from=fcpc_detail_"+t+"_xiaoquxq_ditu_zhoubian_bank"},{keyword:"学校",value:"xuexiao",address:0,link:1,icon:document.location.protocol+"//img.58cdn.com.cn/ui8/house/detail/images/ditu_jy@2x.png",clickCode:"from=fcpc_detail_"+t+"_xiaoquxq_ditu_zhoubian_school"},{keyword:"医院",value:"yiyuan",address:0,link:1,icon:document.location.protocol+"//img.58cdn.com.cn/ui8/house/detail/images/ditu_yy@2x.png",clickCode:"from=fcpc_detail_"+t+"_xiaoquxq_ditu_zhoubian_hospital"}],o="";o+='<dl class="zbpz-title" onclick="fe58.map.changeSet(this);"><i class="icon"></i>周边配置</dl>';for(var n=0,i=e.length;n<i;n++){var r=e[n].clickCode;o+="<dl class='hide'>",o+="<dt class='item-dt' onmouseover='$(this).addClass(\"hove\")' onmouseout='$(this).removeClass(\"hove\")'> <label><input style='padding-right:2px;' type='checkbox' name='local_info' value='"+e[n].keyword+" ' icon='"+e[n].icon+"' keyword='"+e[n].keyword+"' code="+r+" onclick='fe58.map.linkAll(this);'><span class='dticon"+n+"' src="+e[n].icon+"></span> <div class='dt' style='left:40px;'>"+e[n].keyword+"</div></dt>",o+="</label></dl>"}document.getElementById("map_tab_jtlx").innerHTML=o}()},d=function(t,o,n){var i=$(n).next().attr("src"),r=n.value,a=new window.BMap.Icon(i,new window.BMap.Size(23,25),{offset:new window.BMap.Size(10,25)}),s=new window.BMap.Marker(t,{icon:a,title:r});return e.addOverlay(s),s},h=function(t,e,o,n){var i=null,r=n.getAttribute("keyword");e.type==window.BMAP_POI_TYPE_NORMAL?i="地址：  ":e.type==window.BMAP_POI_TYPE_BUSSTOP?i="公交：  ":e.type==window.BMAP_POI_TYPE_SUBSTOP&&(i="地铁：  ");var a='<div style="font-weight:bold;color:#CE5521;font-size:14px">'+e.title+"</div>",s=[];s.push('<table cellspacing="0" style="table-layout:fixed;width:100%;font:12px arial,simsun,sans-serif"><tbody>'),s.push("<tr>"),s.push('<td style="vertical-align:top;line-height:16px;width:38px;white-space:nowrap;word-break:keep-all">'+i+"</td>"),s.push('<td style="vertical-align:top;line-height:16px">'+e.address+" </td>"),s.push("</tr>"),s.push("</tbody></table>");var l=new window.BMap.InfoWindow(s.join(""),{title:a,width:200}),c=function(){t.openInfoWindow(l);for(var e=0;e<10;e++)document.getElementById("list"+r+e)&&(document.getElementById("list"+r+e).style.backgroundColor=e==o?"#f0f0f0":"#fff")};return t.addEventListener("click",c),c},p=function(t){return e.getMapType().getProjection().pointToLngLat(t)},f=function(t,o){var n,i=Math.sqrt(2)*o,r=(n=t,e.getMapType().getProjection().lngLatToPoint(n)),a=r.x,s=r.y,l=a+i/2,c=s+i/2,u=a-i/2,d=s-i/2,h=p(new window.BMap.Pixel(l,c)),f=p(new window.BMap.Pixel(u,d));return new window.BMap.Bounds(f,h)};this.hideMap=function(){$("#dtjt_wrap").hide()},this.changeroute=function(t){var o=$(t).find(".route");$(".route_detail").html("<div class='route_start'>"+o.attr("start")+"</div>"+o.attr("desc")+"<div class='route_end'>"+o.attr("end")+"</div>"),$(t).after($(".route_detail")),e.clearOverlays();for(var n=$(t).index(),i=r.getPlan(n),a=0;a<i.getNumRoutes();a++){var s=i.getRoute(a);s.getDistance(!1)>0&&e.addOverlay(new window.BMap.Polyline(s.getPath(),{lineColor:"green"}))}for(a=0;a<i.getNumLines();a++){var l=i.getLine(a);e.addOverlay(new window.BMap.Polyline(l.getPath()))}},this.link=function(t){var o=t.getAttribute("icon"),n=t.getAttribute("lon"),r=t.getAttribute("lat"),a=t.getAttribute("address"),s=t.getAttribute("title"),l=new window.BMap.Point(n,r),c=new window.BMap.Icon(o,new window.BMap.Size(20,20));i&&e.removeOverlay(i),i=new window.BMap.Marker(l,{icon:c}),e.addOverlay(i);var u=new window.BMap.InfoWindow("<p style='font-size:14px; font-weight:900;'>"+s+"</p><p style='font-size:12px;'>地址："+a+"</p>");i.openInfoWindow(u),"addEventListener"in window?i.addEventListener("click",(function(){this.openInfoWindow(u)})):i.onclick=function(){this.openInfoWindow(u)}},this.changeSet=function(t){$(t).hasClass("open")?($(t).siblings().addClass("hide"),$(t).removeClass("open")):($(t).siblings().removeClass("hide"),$(t).addClass("open"))},this.linkAll=function(i){if(i.checked)!function(i){var r=i.value,a=i.getAttribute("keyword"),s=null,l={onSearchComplete:function(o){if(s.getStatus()==window.BMAP_STATUS_SUCCESS){var a=[];t._localInfoType[r]=[];for(var l=o.getCurrentNumPois()<5?o.getCurrentNumPois():5,c=0;c<l;c++){var u=d(o.getPoi(c).point,0,i),p=h(u,o.getPoi(c),c,i);t._localInfoType[r].push(p),0==c&&t._localInfoType[r][c]();var f=o.getPoi(c);f.title;var m=f.point.lng,g=f.point.lat,y=new window.BMap.Point(m,g),v=e.getDistance(n,y);v=Math.floor(v)+"米",a.push('<dd id="list'+r+c+'" style="cursor: pointer; overflow: hidden; line-height: 17px;" onclick=\'_localInfoType["'+r+'"]['+c+"]()'>"),a.push('<div style="line-height:20px;width:180px;">'),a.push('<span style="color:#00c;text-decoration:underline">'+o.getPoi(c).title.replace(new RegExp(o.keyword,"g"),"<b>"+o.keyword+"</b>")+"</span>"),a.push("<span> - "+o.getPoi(c).address+"</span>"),a.push("</div>"),a.push('<div class="distance"> - '+v+"</div>"),a.push("</dd>"),a.push("")}a.join("")}}},c=f(o.getCenter(),o.getRadius());(s=new window.BMap.LocalSearch(e,l)).enableAutoViewport(),s.searchInBounds(a,c)}(i),window.clickLog&&window.clickLog($(i).attr("code")),$(i).parents(".item-dt").siblings().removeClass("on"),$(i).parents(".item-dt").addClass("on");else{$(i).parents(".item-dt").removeClass("on");for(var r=e.getOverlays(),a=0;a<r.length;a++)"function"==typeof r[a].getTitle&&r[a].getTitle()==i.value&&e.removeOverlay(r[a]);$(i.parentNode.parentNode).children("dd").remove()}},this.getMap=function(){var t=document.createElement("script");t.src=document.location.protocol+"//api.map.baidu.com/api?v=1.3&callback=fe58.map.init",document.body.appendChild(t)},this.init=function(){a.lon=window.____json4fe.xiaoqu.baidulon||window.____json4fe.xiaoqu.lon,a.lat=window.____json4fe.xiaoqu.baidulat||window.____json4fe.xiaoqu.lat,(e=new window.BMap.Map("map")).setCurrentCity(window.____json4fe.locallist[0].name),u()},this.gettuangouInfo=function(t,e,o){a.tuangouList?o&&o(a.tuangouList):si.jsonp(document.location.protocol+"//t.58.com/aroundgroupbuys/",{lng:t,lat:e,raidus:1500,successCode:64334,failCode:64335}).then((t=>{t&&t.length&&(a.tuangouList=t,o&&o(a.tuangouList))}))},this.togScroll=function(t){var e=document.body.clientHeight,o=document.documentElement.clientHeight,n=o<=e&&0!=o?document.documentElement:document.body;t?(n.style.overflow="auto",$(window).unbind("scroll",this.settop)):(n.style.overflow="hidden",$(window).bind("scroll",this.settop))},this.settop=function(){$("#map").css({top:$(window).scrollTop()+"px"}),$("#baidu_exitfullscreen").css({top:$(window).scrollTop()+5+"px"}).show()},this.exitfull=function(){$("#map").appendTo($("#dtjt_info")).css({width:"464px",height:"319px",left:0,top:0,zIndex:0}),$("#baidu_exitfullscreen").hide()},this.setfull=function(){var t=window.screen.availHeight,e=$(window).scrollTop();$("#map").appendTo($("body")).css({left:0,top:e+"px",width:"100%",height:t+"px",zIndex:9999}),$("#baidu_exitfullscreen").css({top:e+5+"px"}).show()},this.recenter=function(){n=new window.BMap.Point(a.lon,a.lat),e.centerAndZoom(n,16)}};function e(){var t=new window.soso.maps.Panorama("soso_map"),e=new window.soso.maps.PanoOverview("static_map",{panorama:t}),i=new window.soso.maps.PanoramaService,r=window.____json4fe.xiaoqu.baidulon,a=window.____json4fe.xiaoqu.baidulat,s=new window.soso.maps.LatLng(a,r);new window.soso.maps.NavigationControl({map:e.map,style:window.soso.maps.NavigationControlStyle.SMALL}),window.soso.maps.convertor.translate(s,3,(function(n){i.getPano(n[0],200,(function(e){null!=e?t.setPano(e.svid):o()})),new window.soso.maps.Marker({map:e.map,position:n[0]})}));var l,c,u,d=0,h=setInterval((function(){d>=360&&(d=0),d+=.1,t.setPov({heading:d})}),100);window.soso.maps.event.addListener(t,"pov_changed",(function(){t.getPov(),Math.abs(t.getPov().heading-d)>1&&clearInterval(h)})),$("#soso_tab").click((function(){$("#map_search_result").hide(),$(this).addClass("active").siblings().removeClass("active"),$("#soso_map").addClass("active").siblings().removeClass("active")})),$("#baidu_tab").click((function(){$(this).addClass("active").siblings().removeClass("active"),$("#baidu_map").addClass("active").siblings().removeClass("active")})),n(),l=Math.floor($("#soso_map").width()-20),c=Math.floor($("#soso_map").height()-20),u=$("#static_map_background"),$("#map_drag").mousedown((function(t){$("#static_map_background").unbind("mouseleave").unbind("mouseenter");var e=t,o=u.width(),i=u.height();return $(document).mousemove(window.sosoMapZoomIn=function(t){var n=t.pageX-e.pageX,r=t.pageY-e.pageY,a=Math.floor(o-n),s=Math.floor(i-r);a>l?u.width(l):a<110?u.width(110):u.width(a),s>c?u.height(c):s<110?u.height(110):u.height(s)}),$(document).mouseup(window.sosoMapZoomOut=function(){$(document).unbind("mousemove",window.sosoMapZoomIn),$(document).unbind("mouseup",window.sosoMapZoomOut),n()}),!1}))}function o(){$("#dtjt_title").find("span").hide(),$("#dtjt_title").find("#baidu_tab").addClass("active").show(),$("#soso_map").hide()}function n(){$("#static_map_background").mouseenter((function(){$(this).stop(!0).animate({width:"220px",height:"220px"})})),$("#static_map_background").mouseleave((function(){window.setTimeout((function(){$("#static_map_background").stop(!0).animate({width:"110px",height:"110px"})}),2200)}))}window.fe58=window.fe58||{},window.fe58.map=new t,$.getScript(window.location.protocol+"//open.map.qq.com/plugin/v2/PanoramaOverview/PanoramaOverview-min.js",(function(){var t=document.getElementById("map"),n=document.getElementById("soso_map");if("____json4fe"in window&&t&&"xiaoqu"in window.____json4fe){var i=window.____json4fe.xiaoqu.baidulon||window.____json4fe.xiaoqu.lon,r=window.____json4fe.xiaoqu.baidulat||window.____json4fe.xiaoqu.lat;if(null!=i&&null!=i&&"0"!=i&&"0.0"!=i&&"null"!=i&&null!=r&&null!=r&&"0"!=r&&"null"!=r&&"0.0"!=r)return window.fe58.map.getMap(),$("body").bind("keyup",(function(t){27==(t.keyCode||t.which)&&9999==$("#map").css("z-index")&&(window.fe58.map.exitfull(),window.fe58.map.recenter(),window.fe58.map.togScroll(!0))})),$("#baidu_fullscreen").click((function(){window.fe58.map.setfull(),window.fe58.map.recenter(),window.fe58.map.togScroll(!1)})),$("#baidu_exitfullscreen").click((function(){window.fe58.map.exitfull(),window.fe58.map.recenter(),window.fe58.map.togScroll(!0)})),void(n?e():o())}window.fe58.map.hideMap(),$('a[jumpto="ditu"]').remove()}))}jumpDitu(){for(var t=["#Immereport","#districtNav","#dituNav","#housedetailNav"],e=0;e<t.length;e++)$(t[e]).bind("click",(function(){var t=$(this).attr("jumpto");if($("#"+t).length>0){var e=$("#"+t).offset().top-40;$("html,body").animate({scrollTop:e},200)}}))}}class mi{constructor(t){t.skuid&&$(".agent-aggregation").length>0&&this.init(t)}init(t){let e=this;e.fetchData(t,(o=>{o&&e.getTemplate(o,t)}))}fetchData(t,e){si.jsonp("//apihouse.58.com/broker/Api_get_depend",{brokerId:t.sanWangBrokerId,skuid:t.skuid,source:"pc",localName:t.locallist[0].listname,successCode:64336,failCode:64337},"jsoncallback").then((t=>{t&&0===t.code&&t.data&&e(t.data)}))}getTemplate(t,e){let o=this,n="",i="",r="",a="",s="";if(t.checkMore?(r=`<a class="more" href="${t.checkMore}">查看更多</a>`,window.clickLog("from=200000003383000100000100")):r="",t.list&&t.list.length>0){for(var l=0;l<t.list.length;l++){if("wh"==e.locallist[0].listname){var c="";t.list[l].verifyQrCodeUrl&&(c=` <div class="qr-code-wrap">\n                                    <span class="code" style="background-image:url(${t.list[l].verifyQrCodeUrl})">\n                                    </span>\n                                    <p class="word">扫码查看备案信息</p>\n                                    <i class="jianjiao icon"></i>\n                                </div>`),a=t.list[l].verifyRegNumber?`<span  class="employment-record-num">\n                                <span class="name">从业备案编码：<span class=" ${t.list[l].verifyQrCodeUrl?"active":""}">${t.list[l].verifyRegNumber}</span></span>  \n                                    ${c}\n                                </span>`:'<span  class="employment-record-num">\n                                                <span class="name">从业备案信息待审核</span>\n                                            </span>'}"bj"==e.locallist[0].listname&&(s=`<span class="employment-card">\n                                            <span class="name">从业信息卡</span>                                                                       \n                                            <span class="agent-img-pop-wrapper">\n                                                <a class="agent-img-pop" title="点击查看原图" target="_blank" href="${t.list[l].personalCertificate}">\n                                                    <span class="img" style="background-image:url(${t.list[l].personalCertificate});filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src=${t.list[l].personalCertificate}" ,="" sizingmethod="scale" )"=""></span>\n                                                </a>\n                                            </span>\n                                        </span>`);let o="";(t.list[l].active_tag||void 0)&&(o='<i class="active-tag">\n                                 活跃经纪人\n                             </i>'),n+=`<li>\n                    <div class="left">\n                        <a  class="heada" href="${t.list[l].myShop}" target="_blank">\n                            <div class="head" style="background:url('${t.list[l].headPic}');background-size:100% 100%"></div>                           \n                        </a>\n                        <div class="infor">\n                            <div class="name">${t.list[l].brokerName}${o}</div>\n                            <div class="agent-icon">\n                               ${t.list[l].authInfo.mobile?'<i class="icon pho-approve" title="手机已认证"></i>':""}\n                               ${t.list[l].authInfo.noraml?'<i class="icon single-approve" title="身份证已认证"></i>':""}\n                               ${t.list[l].authInfo.email?'<i class="icon mail-approve" title="邮件已认证"></i>':""}\n                            </div>\n                            <div class="card-store">\n\n                                ${s}\n    \n                                <span class="agent-store">                            \n                                    <a class="ah" href="${t.list[l].myShop}" target="_blank">进入店铺</a>                                 \n                                </span>\n\n                                ${a}\n\n                            </div>\n                        </div>\n                    </div>\n                    <div class="right">\n                        <div class="house-chat-im im-chat im-offline btn-im"  data-im="${t.list[l].imData}">微聊</div>\n                        <div class="btn-phone" data-i="${l}" data-url="${t.list[l].privacyCallUrl.privacyCallUrl}">\n                            <div class="phone-icon"></div>\n                            <div class="phone-phone" data-i="${l}" data-url="${t.list[l].privacyCallUrl.privacyCallUrl}">点击查看电话</div>\n                        </div>\n                    </div>\n                    <div class="empty"></div>\n                </li>`}i=`\n            <div class="title">本房源其他经纪人\n                ${r}\n            </div>\n            <ul  class="agent-list">\n                ${n}       \n            </ul>`,$(".agent-aggregation").append(i),setTimeout((()=>{$(".agent-aggregation").on("click",".btn-phone",(function(t){let e=$(this).attr("data-i"),n=$(this).attr("data-url");o.getPrivacyPhone(n,$(this).find(".phone-phone")),window.clickLog("from=200000003381000100000010&position="+(e+1))}))}),0),window.clickLog("from=200000003379000100000100"),$(".more").on("click",(()=>{window.clickLog("from=200000003384000100000010")})),$(".heada").each(((t,e)=>$(e).on("click",(()=>{window.clickLog("from=200000003382000100000010&position="+(t+1))})))),$(".btn-im").each(((t,e)=>$(e).on("click",(()=>{window.clickLog("from=200000003380000100000010&position="+(t+1))}))))}else $(".agent-aggregation").css({display:"none"})}getPrivacyPhone(t,e){var o=t||"";si.jsonp(o,{json:null,successCode:64338,failCode:64339},"jsoncallback").then((t=>{if(t&&0===t.code&&t.data){var o=t.data.substr(0);e.text(o)}else e.text("空号码")}))}}class gi{constructor(t){this.json4fe=t,this.render()}render(){let t=this;t.getData(document.location.protocol+"//rentercenter.58.com/recommend/api_recommend_zufang",{infoid:t.json4fe.infoid,platform:"pc",chlocalid:t.json4fe.locallist[0].dispid,successCode:64340,failCode:64341},0),t.json4fe.brokerOtherListUrl?t.getData(t.json4fe.brokerOtherListUrl,{successCode:64342,failCode:64343},1):t.getData(document.location.protocol+"//apihouse.58.com/house/postOtherInfo",{userId:t.json4fe.userid,cateId:t.json4fe.catentry.dispid,successCode:64344,failCode:64345},1)}getData(t,e,o){let n=this;si.jsonp(t,e,"jsoncallback").then((t=>{t&&0==t.code&&(0==o&&t.data&&(t.data.nearbyHouse&&(window.clickLog(t.data.nearbyHouse.clickCode),$("#guess-your-like").append(n.getTemplate(t.data.nearbyHouse,t.data.nearbyHouse.houseList.length<4?t.data.nearbyHouse.houseList.length:4))),t.data.bizAreaHouse&&(window.clickLog(t.data.bizAreaHouse.clickCode),$("#see-again-house").append(n.getTemplate(t.data.bizAreaHouse,t.data.bizAreaHouse.houseList.length<8?t.data.bizAreaHouse.houseList.length:8))),t.data.superPPGY&&(window.clickLog(t.data.superPPGY.clickCode),$("#premium-brand-apartment").append(n.getTemplateRightBot(t.data.superPPGY)))),1==o&&t.data&&t.data.length>0&&$("#agent-other-house").append(n.getTemplateRightTop(t.data)))}))}getTemplate(t,e){let o="",n="",i="";for(let r=0;r<e;r++){n=r%4==0?"first":"",i=t.houseList[r];let e=i.xiaoqu?i.xiaoqu:i.shangqu;i.pic=document.location.protocol+"//"+i.pic.split("://")[1],o+=`<li class="${n}">\n                <a href="${i.url}" target="_blank" onclick="clickLog('${i.clickCode}')" data-index="1">\n                    <div class="pic pr">\n                        <img src="${i.pic.split("?")[0]}?w=336&amp;h=240&amp;crop=1" alt="">\n                        <span class="price f12 pa">\n                            <b class="f18">${i.price}</b>&nbsp;元/月\n                        </span>\n                    </div>\n                    <p class="title f14 c_333 lh14">${e}</p>\n                    <p class="area f12 c_888">${i.huxingshi}室${i.huxingting}厅&nbsp;/&nbsp;${i.area}</p>\n                </a>\n            </li>`}return`<p class="nav">\n                            <span class="f18 c_333">${t.title}</span>\n                        </p>\n                        <ul class="house-ul">\n                            ${o}\n                        </ul>\n                        `}getTemplateRightTop(t){let e="",o="",n=this,i="";8==n.json4fe.catentry.dispid?i="整租":10==n.json4fe.catentry.dispid&&(i="合租");let r=n.json4fe.locallist&&n.json4fe.locallist[0]&&1==n.json4fe.locallist[0].dispid?"联系人":"经纪人";for(let r=0;r<t.length;r++){o=t[r];let a=o.url.replace("http://",window.location.protocol+"//"),s=o.picUrl.replace("http://",window.location.protocol+"//"),l="";l=o.fittype?`/&nbsp;${o.fittype}`:"",e+=`<li> \n                    <a href="${a}" target="_blank" onclick="clickLog('from=fcpc_detail_${n.json4fe.locallist[0].listname}_jingjiren_tuijianfy_no${parseInt(r+1)}')">\n                        <div class="pic fl"> \n                            <img lazy_src="${s.split("?")[0]}?w=336&amp;h=240&amp;crop=1" src="//img.58cdn.com.cn/ui9/house/list/lazy_pic.png">\n                        </div>\n                        <div class="side-right fl">\n                            <p class="info-title c_555 f18">${o.title}</p>\n                            <p class="info-area-toward c_888 f12">${o.huxing}&nbsp;/&nbsp;${o.area}平<br>${i}&nbsp;${l}</p>\n                            <p class="info-price c_ff552e f12"><b class="f18">${o.price}</b>&nbsp;元/月</p>\n                        </div>\n                    </a>\n                </li>`}return`<p class="agent-house-nav f18 c_333">该${r}的推荐房源</p>\n                        <ul class="agent-otherhouse-list">\n                            ${e}\n                        </ul>\n                        `}getTemplateRightBot(t){let e="",o="",n=[];for(let r=0;t.houseList&&r<t.houseList.length;r++){o=t.houseList[r],n=o.tags;let a="";if(""!=n[0])for(var i=0;i<n.length;i++)a+=`<span>${n[i]}</span>`;o.pic=document.location.protocol+"//"+o.pic.split("://")[1],e+=` <li>\n                    <a href="${o.url}" target="_blank" onclick="clickLog('${o.clickCode}')">\n                        <div class="pic fl">\n                            <img lazy_src="${o.pic.split("?")[0]}?w=336&amp;h=240&amp;crop=1" src="//img.58cdn.com.cn/ui9/house/list/lazy_pic.png" width="168" height="120">\n                            <span class="label">品牌公寓</span>\n                        </div>\n                        <div class="side-right fl">\n                            <p class="info-title c_555 f18 lh20">${o.title}</p>\n                            <p class="info-price c_ff552e f12 lh30">\n                                <b class="f18">${o.price}</b>&nbsp;元/月\n                            </p>\n                            <p class="info-area-toward c_888 f12">${o.huxingshi}室${o.huxingting}厅${o.huxingwei}卫&nbsp;/&nbsp;${o.area}&nbsp;/&nbsp;品牌公寓<br></p>\n                            <p class="info-special f12">${a}</p>\n                        </div>\n                    </a>\n                </li>`}return`<a class="brand-apartment-nav f18 c_333" href="//${this.json4fe.locallist[0].listname}.58.com/pinpaigongyu/" onclick="clickLog('from=fcp_detail_czppgy_pinpaigongyu_title')" target="_blank">${t.title}</a>\n                        <ul class="brand-apartment-list">\n                            ${e}\n                            <li class="view-more-apartment view-more"><a href="${window.location.protocol}//${this.json4fe.locallist[0].listname}.58.com/pinpaigongyu/" target="_blank">查看更多品牌公寓<i class="icon"></i></a></li>\n                        </ul>\n                        `}}class yi{constructor(t){this.render(t)}render(t){if(("zufang"==t.cate.listname||"hezu"==t.cate.listname)&&t.isFinal){if(t.j&&t.j._trackParams&&$.isArray(t.j._trackParams)&&t.j._trackParams.length)for(var e=t.j._trackParams,o=0,n=e.length;o<n;o++)if("23501337478912"==e[o].V||"23402135620608"==e[o].V||"15049577632256"==e[o].V||"23265983808000"==e[o].V||"15126541891072"==e[o].V||"19796007901568"==e[o].V||"15126629933568"==e[o].V||"19441107053696"==e[o].V||"19265936414336"==e[o].V||"19163145222656"==e[o].V||"15126694301824"==e[o].V||"15126683624576"==e[o].V||"15126737064832"==e[o].V||"55908829287"==e[o].V||"15126654321920"==e[o].V||"15126248751744"==e[o].V)return;var i=document.createElement("iframe");$(i).css({width:"706px",height:"150px","margin-top":"20px"}),i.src=document.location.protocol+"//www.to8to.com/huodong/58/zufang.php",$("#tbt-bottom-ad").html(i)}}}class vi{constructor(){this.render()}render(){$("#rec-bottom-nav").find("li").bind("click",(function(){var t=$(this).data("key");$(this).siblings("li").removeClass("on"),$(this).addClass("on"),$("#rec-bottom-list").find("li").removeClass("on"),$("#rec-bottom-list").find("li").each((function(){$(this).data("key")==t&&$(this).addClass("on")}))}))}}function wi(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var o=1732584193,n=-271733879,i=-1732584194,r=271733878,a=0;a<t.length;a+=16){var s=o,l=n,c=i,u=r;o=_i(o,n,i,r,t[a+0],7,-680876936),r=_i(r,o,n,i,t[a+1],12,-389564586),i=_i(i,r,o,n,t[a+2],17,606105819),n=_i(n,i,r,o,t[a+3],22,-1044525330),o=_i(o,n,i,r,t[a+4],7,-176418897),r=_i(r,o,n,i,t[a+5],12,1200080426),i=_i(i,r,o,n,t[a+6],17,-1473231341),n=_i(n,i,r,o,t[a+7],22,-45705983),o=_i(o,n,i,r,t[a+8],7,1770035416),r=_i(r,o,n,i,t[a+9],12,-1958414417),i=_i(i,r,o,n,t[a+10],17,-42063),n=_i(n,i,r,o,t[a+11],22,-1990404162),o=_i(o,n,i,r,t[a+12],7,1804603682),r=_i(r,o,n,i,t[a+13],12,-40341101),i=_i(i,r,o,n,t[a+14],17,-1502002290),o=ji(o,n=_i(n,i,r,o,t[a+15],22,1236535329),i,r,t[a+1],5,-165796510),r=ji(r,o,n,i,t[a+6],9,-1069501632),i=ji(i,r,o,n,t[a+11],14,643717713),n=ji(n,i,r,o,t[a+0],20,-373897302),o=ji(o,n,i,r,t[a+5],5,-701558691),r=ji(r,o,n,i,t[a+10],9,38016083),i=ji(i,r,o,n,t[a+15],14,-660478335),n=ji(n,i,r,o,t[a+4],20,-405537848),o=ji(o,n,i,r,t[a+9],5,568446438),r=ji(r,o,n,i,t[a+14],9,-1019803690),i=ji(i,r,o,n,t[a+3],14,-187363961),n=ji(n,i,r,o,t[a+8],20,1163531501),o=ji(o,n,i,r,t[a+13],5,-1444681467),r=ji(r,o,n,i,t[a+2],9,-51403784),i=ji(i,r,o,n,t[a+7],14,1735328473),o=ki(o,n=ji(n,i,r,o,t[a+12],20,-1926607734),i,r,t[a+5],4,-378558),r=ki(r,o,n,i,t[a+8],11,-2022574463),i=ki(i,r,o,n,t[a+11],16,1839030562),n=ki(n,i,r,o,t[a+14],23,-35309556),o=ki(o,n,i,r,t[a+1],4,-1530992060),r=ki(r,o,n,i,t[a+4],11,1272893353),i=ki(i,r,o,n,t[a+7],16,-155497632),n=ki(n,i,r,o,t[a+10],23,-1094730640),o=ki(o,n,i,r,t[a+13],4,681279174),r=ki(r,o,n,i,t[a+0],11,-358537222),i=ki(i,r,o,n,t[a+3],16,-722521979),n=ki(n,i,r,o,t[a+6],23,76029189),o=ki(o,n,i,r,t[a+9],4,-640364487),r=ki(r,o,n,i,t[a+12],11,-421815835),i=ki(i,r,o,n,t[a+15],16,530742520),o=Pi(o,n=ki(n,i,r,o,t[a+2],23,-995338651),i,r,t[a+0],6,-198630844),r=Pi(r,o,n,i,t[a+7],10,1126891415),i=Pi(i,r,o,n,t[a+14],15,-1416354905),n=Pi(n,i,r,o,t[a+5],21,-57434055),o=Pi(o,n,i,r,t[a+12],6,1700485571),r=Pi(r,o,n,i,t[a+3],10,-1894986606),i=Pi(i,r,o,n,t[a+10],15,-1051523),n=Pi(n,i,r,o,t[a+1],21,-2054922799),o=Pi(o,n,i,r,t[a+8],6,1873313359),r=Pi(r,o,n,i,t[a+15],10,-30611744),i=Pi(i,r,o,n,t[a+6],15,-1560198380),n=Pi(n,i,r,o,t[a+13],21,1309151649),o=Pi(o,n,i,r,t[a+4],6,-145523070),r=Pi(r,o,n,i,t[a+11],10,-1120210379),i=Pi(i,r,o,n,t[a+2],15,718787259),n=Pi(n,i,r,o,t[a+9],21,-343485551),o=Ci(o,s),n=Ci(n,l),i=Ci(i,c),r=Ci(r,u)}return Array(o,n,i,r)}function bi(t,e,o,n,i,r){return Ci((a=Ci(Ci(e,t),Ci(n,r)))<<(s=i)|a>>>32-s,o);var a,s}function _i(t,e,o,n,i,r,a){return bi(e&o|~e&n,t,e,i,r,a)}function ji(t,e,o,n,i,r,a){return bi(e&n|o&~n,t,e,i,r,a)}function ki(t,e,o,n,i,r,a){return bi(e^o^n,t,e,i,r,a)}function Pi(t,e,o,n,i,r,a){return bi(o^(e|~n),t,e,i,r,a)}function Ci(t,e){var o=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(o>>16)<<16|65535&o}function Si(t){for(var e=Array(),o=0;o<8*t.length;o+=8)e[o>>5]|=(255&t.charCodeAt(o/8))<<o%32;return e}function xi(t){for(var e="0123456789abcdef",o="",n=0;n<4*t.length;n++)o+=e.charAt(t[n>>2]>>n%4*8+4&15)+e.charAt(t[n>>2]>>n%4*8&15);return o}var Ai=function(t){return xi(wi(Si(t),8*t.length))};class Ei{constructor(t,e=""){this.sourceType=e;try{this.render(t)}catch(t){console.error(t)}}render(t){if(t.houseId)this.getQRCodeURL(t.houseId).then((e=>{t.sidebarNode&&this.appendQRCodeToSidebar(t.sidebarNode,e),t.agentAreaNode&&this.appendQRCodeToAgentArea(t.agentAreaNode,e)}),(t=>{console.log("error occured when getting qrcode: ",t)}));else{let e="//pic1.58cdn.com.cn/nowater/58zfjx/qrcode/n_v2e9beed14f5774049acdf5dd363e280b2.png?w=280";t.sidebarNode&&this.appendQRCodeToSidebar(t.sidebarNode,e)}}getQRCodeURL(t){return si.jsonp(document.location.protocol+"//rentercenter.58.com/wechat/api_get_qrcode_v2",{houseId:t,signature:Ai(t+"qrcode_get"),successCode:64256,failCode:64257},"jsoncallback").then((t=>t.data))}appendQRCodeToSidebar(t,e){if(t&&e){let o=this.getSidebarQRCodeTemplate(e),n=document.createElement("img");n.src=e,n.onload=function(){t.append(o),$(".wx-xcx-qrcode").hover((function(){$(this).children(".qrcode-popover").show()}),(function(){$(this).children(".qrcode-popover").hide()}))}}}appendQRCodeToAgentArea(t,e){if(t&&e){let o=this.getAgentAreaQRCodeTemplate(e),n=document.createElement("img");n.src=e,n.onload=function(){t.append(o)}}}getSidebarQRCodeTemplate(t){return`<div class="wx-xcx-qrcode" style="z-index:3">\n                    <img src="https://pic1.58cdn.com.cn/nowater/58zfjx/qrcode/n_v25104ba3baeac4770b3c06ea2a9026a42.png?w=80&qa=85">\n                    <div class="qrcode-popover">\n                        <img src="${t=t.replace("http://",window.location.protocol+"//")}?w=280">\n                        <p>微信扫码拨号</p>\n                        <em class="r_jiao"></em>\n                    </div>\n               </div>`}getAgentAreaQRCodeTemplate(t){t=t.replace("http://",window.location.protocol+"//");var e=`<p class="wx-xcx-qrcode-agent ${$("#single")&&$("#single").length?"single-qrcode":""}">\n                            <span>用微信扫码打电话</span>\n                            <br/>\n                            <img src="${t}?w=200&qa=85">\n                        </p>`;return"anjuke"==this.sourceType&&(e=""),e}}class Ti{constructor(t){if(t.privacyCallUrl){var e=t.privacyCallUrl||"";$(".chat-phone-layer").on("click",(function(){$(".phone-num").text(""),si.jsonp(e,{json:null,successCode:64346,failCode:64347},"jsoncallback").then((t=>{if(t&&0===t.code&&t.data){var e=t.data.substr(0);$(".phone-num").text(e),"realNum"!=t.message&&($(".house-chat-phonenum").append('<p class="phone-belong"><span>此号码为虚拟号，10分钟内有效</span> </p>'),$(".phone-num").removeClass("phone-num").addClass("phone-num-virtual"))}else console.log("空号码")}))}))}}}class Oi{static get(t){if(void 0!==t){const e=new RegExp(`(?:^| )${t}=([^;]*)(?:;|$)`).exec(document.cookie);return e&&decodeURIComponent(Array.from(e)[1])||""}return document.cookie}static set(t,e,o){if(void 0===t||void 0===e)throw Error(`Argument ${void 0===t?"name":"value"} is required.`);{let n=[];n.push([t,encodeURIComponent(e)].join("=")),o&&Object.keys(o).forEach((t=>{void 0!==o[t]&&n.push([t,o[t]].join("="))})),document.cookie=n.join(";")}}static remove(t){this.get(t)&&this.set(t,"",{expires:new Date(1970,1,1)})}}class Li{constructor(){window.____json4fe.isbiz||(this.render(),this.bind())}render(){$(".defraud-layer").after(this.getTemplate())}bind(){let t=this;"defraud"!=Oi.get("defraudName")&&(t.middleposition($(".defraud-layer"),$(".defraud-mask")),Oi.set("defraudName","defraud",{path:"/"})),$(".defraud-close, .defraud-know").bind("click",(()=>{$(".defraud-layer, .defraud-mask").hide()}))}middleposition(t,e){let o=e,n=o.width(),i=o.height()>$(window).height()?$(window).height():o.height(),r=$("body").width(),a=($(window).height()-i)/2,s=$(window).scrollTop(),l=(r-n)/2,c=a+s;t.show(),o.css({left:l,top:c}).show();let u=.75*$(window).height(),d=$(".picmask").find("#mainPic").parent().height(),h=((d>u?u:d)-$(".picmask").find("#mainPic").height())/2;$(".picmask").find("#mainPic").css("marginTop",h).show(),$(window).scroll((()=>{let t=$(window).scrollTop(),e=a+t;o.css({position:"absolute",top:e})}))}getTemplate(){return'\n        <div class="defraud-mask">\n            <div class="defraud-wrap">\n                <div class="defraud-link">\n                </div>\n                <div class="defraud-know">我知道了</div>\n            </div>\n            <div class="defraud-close close"></div>\n        </div>\n        '}}class Bi{constructor(t){!t.utils.getCookie("PPU")&&$(".im-chat").one("click",(function(){t.adapter.login()}))}}var Ri=new Bn({pc:{needIe886:!0,ie886Config:{openBrowserJudge:!0,clickClose:!0,autoClose:!0,autoTime:5e3,intervalDay:15,totalDay:3}}});Ri.track.sendWM(64325),console.log("这是定位");let $i=window.____json4fe;$((function(){new Bi(Ri),new $n,new li($i),new pi({locallist:$i.locallist,sanWangBrokerId:$i.sanWangBrokerId,isDayu:$i.isDayu}),new Rn("//tracklog.58.com/referrer4.js",(()=>{new di,new gi($i),new mi($i)})),new fi,new yi(function(){let t=window.____json4fe,e={};if(t.locallist){let o,n;$.isArray(t.locallist)?(o=t.locallist[0],n=t.locallist):(o=t.locallist,n=[o]),e.city=o,e.locallist=n}if(t.catentry){let o,n,i;$.isArray(t.catentry)?(n=t.catentry[t.catentry.length-1],i=t.catentry):(n=t.catentry,i=[n]),t.rootcatentry&&i.unshift(t.rootcatentry),o=i[0],e.rootcate=o,e.cate=n,e.catelist=i}let o=t.modules;return e.j=t,e.isHome="home"==o||"homepage"==o,e.isList="list"==o||"listpage"==o,e.isFinal="final"==o||"finalpage"==o,e.isMy="my"==o||"mypage"==o,e.isPost="post"==o||"postpage"==o,e}()),new vi,new Rn("//j1.58cdn.com.cn/resource/xxzl/public/index.js",(()=>{new Ei({houseId:$i.houseId,sidebarNode:$("body"),agentAreaNode:$(".house-agent-info")})})),new hi($i),new Li,new Ti($i)}))}));
//# sourceMappingURL=detail.js.map
